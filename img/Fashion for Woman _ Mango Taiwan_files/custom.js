var cookieController=(jQuery,{getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}}),deviceController=function(){var e=1023;return{getDPI:function(){var e=window.screen;return window.devicePixelRatio=window.devicePixelRatio||e.deviceXDPI/e.logicalXDPI,window.devicePixelRatio},isHighDensity:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&1.3<window.devicePixelRatio},isTablet:function(){return parseInt($(window).width())<e}}}(jQuery),domainController=(jQuery,{getURLDomain:function(){var e=null;return window.location.origin?e=document.location.origin:(e=window.location.protocol+"//"+window.location.hostname,window.location.port&&(e+=":"+window.location.port)),e},isTestDomain:function(e){var t=!1;return-1===e.search("shop.mango.com")&&(t=!0),t}}),effectsController=function(s){function n(){var e,t=s("body");if(t.hasClass("isDesktop")||t.hasClass("isTablet"))e=s("#navMain").outerHeight();else{e=s(".headerMobile").outerHeight();var i=s("#smartbanner");0<i.length&&(e+=i.outerHeight())}return e}return{miniH:function(e){var t=s("body"),i=s("#submenuContainer"),n=s(".headerContent"),o=s(".headerMNG .banners");if(!0===e)if(t.hasClass("isMobile")){var r=o.height();o.css("margin-top",-r)}else n.addClass("stickyMenu"),i.addClass("stickyMenu"),i.removeClass("selected");else n.removeClass("stickyMenu"),i.removeClass("stickyMenu")},noBannersH:function(e){var t=s("body"),i=null;t.hasClass("shopMNG")&&(!0===e?(t.addClass("noBannersH"),t.removeClass("bannersH"),i=n(),helperController.addStyleElemToHead(".noBannersH .main-content.container-fluid {top:0px!important; margin-top: "+i+"px!important; position: relative}")):!1===e&&(t.addClass("bannersH"),t.removeClass("noBannersH"),i=0,helperController.addStyleElemToHead(".bannersH .main-content.container-fluid {top:0px!important; margin-top: "+i+"px!important;}")))},showH:function(e){var t=s("body");!0===e?(t.removeClass("hideH"),t.addClass("showH")):!1===e&&(t.removeClass("showH"),t.addClass("hideH"),t.hasClass("shopMNG")&&s(".main-content").css("margin-top",""))},showF:function(e){var t=s("body");!0===e?(t.removeClass("hideF"),t.addClass("showF")):!1===e&&(t.removeClass("showF"),t.addClass("hideF"))},headerHeight:n}}(jQuery),formValidationController=function(s){function a(e){var t=e.data("validate-validator"),i=e.prop("disabled"),n=e.val(),o=!0;if(void 0!==e.data("validate-checkbox"))e.is(":checked")||(o=!1);else{if(void 0!==t&&""!==t&&""!==n&&!1===i)o=new RegExp(t,"i").test(n);e.data("validate-required")&&""===n&&!1===i&&(o=!1)}return o}function l(e){var t=e.closest(".form-element"),i=s('[data-component-id="error-'+e.data("component-id")+'"]');t.hasClass("error")&&t.removeClass("error"),i.addClass("hiddenError")}function c(e){var t=e.closest(".form-element"),i=s('[data-component-id="error-'+e.data("component-id")+'"]');t.hasClass("error")||(t.addClass("error"),i.removeClass("hiddenError")),e.data("validate-required")&&""===e.val()&&!1===e.prop("disabled")?i.html(e.data("validate-requiredmessage")):i.html(e.data("validate-validatormessage"))}return{init:function(){s("body").on("focusin",".form-validate-js",function(){!function(e){var t=s('[data-component-id="suggest-'+e.data("component-id")+'"]');try{t.hasClass("show")||t.addClass("show")}catch(e){}}(s(this))}),s("body").on("focusout",".form-validate-js",function(){var e=s(this);if(function(e){var t=s('[data-component-id="suggest-'+e.data("component-id")+'"]');try{t.hasClass("show")&&t.removeClass("show")}catch(e){}}(e),a(e))l(e);else{c(e);var t="form-checkout "+s(".xwing-opened").attr("id")+"-error",i=e.data("component-id");0===i.indexOf("cvc")&&(i="cvc"),analyticsEvent(t,"inline validation",i,0,!0)}})},checkForm:function(e){var t=e.find(".form-validate-js"),i=t.length,n=!1,o=!1;if(0<i){for(var r=0;r<i;r++)a(s(t[r]))?(n=!0,l(s(t[r]))):(o=!(n=!1),c(s(t[r])));o&&(n=!1)}else n=!0;return n}}}(jQuery),gaController=(jQuery,analyticsEvent=function(e,t,i,n,o,r){var s=r;""!==s&&"0"!==s&&null!=s||(s=!0);var a=n;""!==a&&"0"!==a&&null!==a||(a=0),dataLayer.push({event:"analyticsEvent",eventCategory:e,eventAction:t,eventLabel:i,eventValue:a}),s&&(o?ga("send","event",e,t,i,a,{nonInteraction:1}):ga("send","event",e,t,i,a))},analyticsSocial=function(e,t,i,n){dataLayer.push({event:"social",socialNetwork:e,socialAction:t,socialTarget:i,socialPagePath:n}),ga("send","social",e,t,i,{page:n})},analyticsVPV=function(e){dataLayer.push({event:"analyticsVPV",vpvName:e}),"busqueda"!=dataLayerV2Json.page.pageType&&ga("set",{page:e}),ga("send","pageview")},analyticsForm=function(e,t){var i="form: "+e,n=(t.name||t.id||t.type)+":"+t.type;analyticsEvent("interaction",i,n)},{analyticsEvent:analyticsEvent,analyticsSocial:analyticsSocial,analyticsVPV:analyticsVPV,analyticsForm:analyticsForm});analyticsEvent=function(e,t,i,n,o,r){gaController.analyticsEvent(e,t,i,n,o,r)},analyticsSocial=function(e,t,i,n){gaController.analyticsSocial(e,t,i,n)},analyticsVPV=function(e){gaController.analyticsVPV(e)},analyticsForm=function(e,t){gaController.analyticsForm(e,t)};var gaFavoriteController=function(){function t(e){ga("set",{dimension29:e}),dataLayer.push({"user.favoritesNumber":e})}function e(e){return JSON.parse(window.sessionStorage.eventFavorites)[e]}function i(e,t){try{var i=JSON.parse(window.sessionStorage.eventFavorites);i[e]=t,window.sessionStorage.eventFavorites=JSON.stringify(i)}catch(e){}}function n(){return $.ajax({url:domainController.getURLDomain()+"/ws-favorites/favorites/v1/favorites?pais="+dataLayerV2Json.shop.countryISO+"&page=0&size=20",xhrFields:{withCredentials:!0},cache:!1})}return{sendNumFavorites:function(e){void 0===e&&(e=!1),function(){if(void 0===window.sessionStorage.eventFavorites)try{window.sessionStorage.eventFavorites='{"isSent": false, "num": 0}'}catch(e){return!1}return JSON.parse(window.sessionStorage.eventFavorites).isSent}()&&!e||n().done(function(e){t(e.totalElements),i("isSent",!0),i("num",e.totalElements)})},setNumFavorites:function(e){i("num",e),t(e)},addFavorites:function(){try{i("num",e("num")+1),t(e("num"))}catch(e){n().done(function(e){t(e.totalElements)})}},removeFavorites:function(){try{i("num",e("num")-1),t(e("num"))}catch(e){n().done(function(e){t(e.totalElements)})}},getNumFavorites:function(t){n().done(function(e){t(e.totalElements)})}}}(jQuery);!function(e){var t=window.Cookies,i=window.Cookies=function(){function m(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}return function e(p){function f(e,t,i){var n;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(i=m({path:"/"},f.defaults,i)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*i.expires),i.expires=o}i.expires=i.expires?i.expires.toUTCString():"";try{n=JSON.stringify(t),/^[\{\[]/.test(n)&&(t=n)}catch(e){}t=p.write?p.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var r="";for(var s in i)i[s]&&(r+="; "+s,!0!==i[s]&&(r+="="+i[s]));return document.cookie=e+"="+t+r}e||(n={});for(var a=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<a.length;c++){var d=a[c].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var u=d[0].replace(l,decodeURIComponent);if(h=p.read?p.read(h,u):p(h,u)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(e===u){n=h;break}e||(n[u]=h)}catch(e){}}return n}}f.set=f;f.get=function(e){return f.call(f,e)};f.getJSON=function(){return f.apply({json:!0},[].slice.call(arguments))};f.defaults={};f.remove=function(e,t){f(e,"",m(t,{expires:-1}))};f.withConverter=e;return f}(function(){})}();i.noConflict=function(){return window.Cookies=t,i}}(),$(document).ready(function(){try{var e=new Cookies;if(!$("body").hasClass("tele_true")&&void 0!==e.mangoShopCookie){var t=e.mangoShopCookie.split("_")[2];void 0===sessionStorage.isUserLogged?sessionStorage.isUserLogged=dataLayerV2Json.user.logged:"false"===sessionStorage.isUserLogged&&""!==t?(sessionStorage.isUserLogged=!0,gaFavoriteController.sendNumFavorites(!0)):"true"===sessionStorage.isUserLogged&&""===t&&(sessionStorage.isUserLogged=!1)}}catch(e){}});var LOGS=[],helperController=function(o){var e=location.href;function i(e,t){var i="."+e,n=o("body");"linkNews"==e||"linkWish"==e?("linkNews"==e?analyticsEvent("modal-politica-privacidad","newsletter","show"):"linkWish"==e&&analyticsEvent("modal-politica-privacidad","aviso disponibilidad","show"),n.append('<div class="containerModal '+e+'"><div class="backgroundModal"></div><div class="'+e+'"><div class="'+e+'__header"><a href="#" class="closeModal"><span class="icon">c</span></a></div><div class="'+e+'__body"><div class="'+e+'__footer"></div></div></div>'),n.addClass(e),s("class",e+"__body","/cms/privacy/privacy"+dataLayerV2Json.shop.countryISO+"-"+dataLayerV2Json.shop.languageISO+".html")):n.append('<div class="containerModal"><div class="backgroundModal"></div><div class="'+e+'"><div class="'+e+'__header"><a href="#" class="closeModal"><span class="icon">c</span></a></div><div class="'+e+'__body"><iframe src="'+t+'" /></div><div class="'+e+'__footer"></div></div></div>');o(i).show(400),o(".closeModal,.backgroundModal").on("click",function(e){e.preventDefault(),r()})}function r(e){o(".containerModal").fadeOut(400,function(){o(".containerModal").remove()});var t=o("body");!1!==e&&(t.hasClass("linkNews")?(analyticsEvent("modal-politica-privacidad","newsletter","close"),t.removeClass("linkNews")):t.hasClass("linkWish")&&(analyticsEvent("modal-politica-privacidad","aviso disponibilidad","close"),t.removeClass("linkWish")))}function s(e,t,i){"class"==e?o("."+t).load(""+i):"id"==e&&o("#"+t).load(""+i)}return-1===e.indexOf("//shop.mango.com")&&-1===e.indexOf("//shop.pre.mango.com")&&-1===e.indexOf("//www.mangooutlet.com")&&-1===e.indexOf("//www.pre.mangooutlet.com")||"undefined"!=typeof console&&(console=console||{},console.log=function(e){for(var t="---- ",i=0;i<arguments.length;i++)t+=arguments[i]+" ";t+=" ----\n",LOGS.push(t)}),{init:function(){o(".modal__link").on("click",function(e){e.preventDefault();var t=o(this);i(t.data("target"),t.attr("href"))})},manageLoaderPanel:function(e,t){o(".loadingPanel").length<1?(o("body").append('<div class="loadingPanel"><div class="loadingPanel__object"></div></div>'),o(".loadingPanel").addClass("active")):o(".loadingPanel").fadeOut(400,function(){o(".loadingPanel").remove()})},modalOpen:i,modalClose:r,openSystemSelect:function(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e[0].dispatchEvent(t)}else element.fireEvent&&e[0].fireEvent("onmousedown")},refreshPage:function(t){o(window).on("pageshow",function(e){e.originalEvent.persisted&&t()})},addStyleElemToHead:function(e,t){var i=document.createElement("style");i.type="text/css",i.innerHTML=e,i.id=t+"-style";var n=document.getElementById(t+"-style");null!==n&&n.parentNode.removeChild(n),document.getElementsByTagName("head")[0].appendChild(i)},addContent:s,showBackgroundModal:function(){o("#blockBackGround").addClass("abierto")},mostrarInfoPopup:function(){o(".main-contentContainer").addClass("container-full-centered-loading")},ocultarInfoPopup:function(){o(".main-contentContainer").removeClass("container-full-centered-loading")},renderCMSText:function(){o("[data-cms-url]").filter(function(){helperController.addContent("id",o(this).attr("id"),o(this).data("cms-url"))})},updateHeadTitle:function(e){o("title").html(e)},manageScroll:function(){var e=o("body");e.hasClass("disable-scroll")?(e.css("overflow",""),e.removeClass("disable-scroll")):(e.css("overflow","hidden"),e.addClass("disable-scroll"))},addXScroll:function(){o("html").addClass("add-horizontal-scroll")}}}(jQuery),settingsManager=function(t){var e=null,i="768",n="2100",o=!1,r=!1,s=!1,a=!1,l=!1,c=!1,d=!1,h=!1;function u(){(e=t(window).width())<i&&(l||c||d||h)?o=!0:i<=e&&(o=!1,l||c||d||h||(s=!0,n<e&&(a=!0)))}function p(){var e=t("body");l&&e.addClass("iDevice"),c&&e.addClass("aDevice"),o?e.addClass("isMobile"):r?e.addClass("isTablet"):s&&(e.addClass("isDesktop"),a&&e.addClass("isLDesktop")),f()}function f(){var e=t("body");return e.hasClass("isTablet")&&(r=!0),!0===r&&e.removeClass("isMobile"),r}return{init:function(){!function(){if(navigator){var e=navigator.userAgent;null!==e.match(/(iPhone|iPod|iPad)/)&&(l=!0),null!==e.match(/(Android)/)&&(c=!0),null!==e.match(/(Windows Phone|Windows CE)/)&&(d=!0),null!==e.match(/(BlackBerry|BB10)/)&&(h=!0)}}(),u(),p()},isMobile:function(){return u(),p(),o},isTablet:f,isiDevice:function(){return l},isaDevice:function(){return c},isPortable:function(){return t("body").hasClass("isPortable")},existsHeader:function(){return 0<t("header").length}}}(jQuery),storageController=(jQuery,{webStorageAvailable:function(e){try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){return!1}},getItemStorage:function(e,t){return window[e].getItem(t)},setItemStorage:function(e,t,i){window[e].setItem(t,i)},objectSize:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}}),styleController=(jQuery,{addStylesInHead:function(e,t){var i=document.createElement("style"),n=document.getElementById(e+"-style");i.type="text/css",i.innerHTML=t,i.id=e+"-style",n&&n.parentNode.removeChild(n),document.getElementsByTagName("head")[0].appendChild(i)}}),swiperController=function(){var i=".swiper-container",n={pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"};return{init:function(e,t){""!==e&&(n=e),""!==t&&(i=t)},addSwiper:function(e,t){return""!==e&&(e=n),""!==t&&(t=i),new Swiper(t,e)}}}(jQuery),bannerController=function(a){var l=domainController.getURLDomain(),c=dataLayerV2Json.shop.languageISO;l+="/services/traducciones/getLabels?idioma="+c;var d,i=a("#navMain").outerHeight();function h(e){var t=a("."+e+"-js");t.css("top",i+"px"),setTimeout(function(){t.css("top",0)},1250)}return{openBanner:function(e,t){var i,n,o,r,s;0<a("."+e+"-js").length?h(e):(n=t,o=a('<div class="'+(i=e)+'-js top-banner"></div>'),a("#headerMNG").append(o),r=i,l+="&id="+(s=n),a.getJSON(l,function(e){d=e[s][c]},"html").fail(function(){console.log("AJAX Error!")},"html").done(function(){a("."+r+"-js").html(d),h(r)}))},deleteBanner:function(e){a("."+e+"-js").remove()}}}(jQuery),customCheckboxController=function(i){function e(){i("body").on("click",".custom-checkbox-js:not(.custom-checkbox--disabled)",function(e){var t;e.stopPropagation(),"checkbox"!==e.target.type&&"submit"!==e.target.type&&(e.preventDefault(),(t=i(this)).toggleClass("custom-checkbox--checked"),t.find('[data-input-id="'+t.data("input-id-parent")+'"]').trigger("click"))})}return{init:function(){e()}}}(jQuery);$(document).ready(function(){customCheckboxController.init()});var customRadioController=function(r){function e(){r("body").on("click",".custom-radio-js > .custom-radio-header-js",function(e){e.stopPropagation(),"radio"!==e.target.type&&(e.preventDefault(),function(e){var t=r("body"),i=r(e).parent(),n=i.find('input[type="radio"]').data("input-id"),o=!1;null===n&&(n=i.data("input-id-parent"),o=!0);r('*[data-input-id-parent="'+n+'"]').removeClass("custom-radio--checked"),i.addClass("custom-radio--checked"),o?t.find('input[type="radio"][data-input-id="'+i.data("input-id-parent")+'"][value="'+i.data("input-value")+'"]').trigger("click"):i.find('input[type="radio"][data-input-id="'+i.data("input-id-parent")+'"]').trigger("click")}(this))})}return{init:function(){r(".custom-radio--checked").find('input[type="radio"]').attr("checked","checked"),e()}}}(jQuery),modalTemplateController=function(t){var e=!1;function i(){t("html").removeClass("scroll-block"),t("body").removeClass("scroll-block"),t(".modal").remove()}return{init:function(){t("html").addClass("scroll-block"),t("body").addClass("scroll-block"),t("body").append(desktopMANGO.Templates.modalTemplate()),e||t("body").on("click",".modal-template-close-js",function(){i()}),e=!0},closeModal:i,initLoading:function(){var e=t(".modal-template-container");e.addClass("modal-template-container--loading"),e.append('<div class="modal-template-loading"></div>')},removeLoading:function(){t(".modal-template-container").removeClass("modal-template-container--loading"),t(".modal-template-loading").remove()}}}(jQuery),rangeSliderController=function(n){var o=null;return{init:function(){var e=n(".range-slider-js");o="rtl"==n("html").attr("dir");for(var t=0;t<e.length;t++)i=e.eq(t),i.slider({isRTL:o,range:!0,min:i.data("min-value"),max:i.data("max-value"),values:[i.data("current-min-value"),i.data("current-max-value")],slide:function(e,t){n(t.handle).find(".amount-value-js").html(t.value)}}),i.find("> .ui-slider-handle").eq(0).append('<span class="amount-value amount-value-min amount-value-js">'+i.slider("values",0)+"</span>"),i.find("> .ui-slider-handle").eq(1).append('<span class="amount-value amount-value-max amount-value-js">'+i.slider("values",1)+"</span>");var i}}}(jQuery),CHECKOUT={Product:function(e){this.id=e?e.toString():"",this.color={},this.size={}},Garment:function(e,t){CHECKOUT.Product.call(this,e),this.id=e,this.color.id=t?t.toString():""},Article:function(e,t,i){CHECKOUT.Garment.call(this,e,t),this.size.id=i?i.toString():""},ShoppingBag:function(e){this.elements=e||{},this.visible=!1,this.promiseResolve=null,this.promiseReject=null,this.init(),this.list=[],this.DOMAINS={SHOP:"SHOP",CATALOG:"CATALOG",EDITS:"EDITS",SHOPPING_BAG:"SHOPPING_BAG",DETAIL:"DETAIL",FAVORITES:"FAVORITES"},this.domain=this.DOMAINS.SHOP},PromoCode:function(){this.version="1.0.0"}};CHECKOUT.PromoCode.prototype.validations={isOnlinePromoCode:function(e){return/(10)[0-9]{10}/.test(e)},isStorePromoCode:function(e){return/(30)[0-9]{10}/.test(e)},isDepartmentalPromoCode:function(e){return/(40)[0-9]{10}/.test(e)},isEmployeePromoCode:function(e){return/(80)[0-9]{6}/.test(e)},isCouponPromoCode:function(e){return/[A-Za-z0-9]/gi.test(e)}};var promoCodeController=function(i,e){var d=(new CHECKOUT.PromoCode).validations;function h(e,t){return t&&(promoCodeController.promoCodeType=e),t}function n(e,t){var i=e.keyCode?e.keyCode:e.which;i=i&&"string"!=typeof i?i.toString():i,t&&"13"===i&&t()}function o(e){h(void 0,!0);var t,i,n,o,r,s=!!e,a=(t=e,h("couponPromoCode",d.isCouponPromoCode(t))),l=(o=e,h("onlinePromoCode",d.isOnlinePromoCode(o))||(n=e,h("storePromoCode",d.isStorePromoCode(n)))||(i=e,h("departmentalPromoCode",d.isDepartmentalPromoCode(i)))),c=(r=e,h("employeePromoCode",d.isEmployeePromoCode(r)));return s&&a&&(l||c||!l)}function t(){i(document).find('#cvv-code input[type="submit"]').trigger("click")}function r(){i(document).on("keypress","#cvv-code .inputVale",function(e){n(e,t)}),i(document).on("keyup","#cvv-code .inputVale",function(e){var t;i(t=this).val(i(t).val().replace(/[^\ws \xC0-\xFFa-zA-Z]/g,"").replace(/[a-z]|[ ]/g,""))})}function s(){i(document).on("keyup",'#promo-code input[type="text"]',function(e){var t=e.target.value;n(e),promoCodeController.isValid=o(t)}),r()}return{init:function(){s()},isValid:!1,promoCodeType:void 0}}(jQuery);promoCodeController.init();var gdprController=function(){var n=$("#footerMNG .gdpr");function o(e){var t=e.target,i=document.querySelector(".newsletterForm");do{if(t===i)return;t=t.parentNode}while(t);n.slideUp(),document.removeEventListener("click",o)}return{init:function(){var e;(e=document.querySelector("#footerMNG .newsletterFormInput"))&&e.addEventListener("focus",function(){document.addEventListener("click",o),n.slideDown()})}}}();$(document).ready(function(){gdprController.init()});var searchController=function(i){var n=i("html"),o=i("body"),r=i("#navTools"),s=i("#navToolsUser"),a=i("#shoppingBag"),t=i("#searcher"),l=i("#searchInput","#searcher"),c=i("#searchIcon","#searcher"),e=i("#searchLabel","#searcher"),d=i("#searchBorder","#searcher"),h=i("#buscarBoton"),u=i("#close-search");function p(e){!l.hasClass("opened")||e.target==t[0]&&e.target.id!=u.attr("id")||0!==t.has(i(e.target)).length&&e.target.id!=u.attr("id")||(d.width(0),l.width(0).removeClass("opened"),u.addClass("hidden"),s.removeClass("nav-hidden"),a.removeClass("nav-hidden"),c.removeClass("hover"),n.off("click",p))}return{init:function(){l.val(""),e.hasClass("activeSearch")&&l.val(e.html()),l.on("keyup",function(){0<l.val().length?(c.hide(),h.show()):(h.hide(),c.show())}),e.hover(function(){c.toggleClass("hover")}),c.hover(function(){e.toggleClass("hover")}),t.on("click",function(e){!function(){if(!l.hasClass("opened")){var e=r.width()-c.width();d.width(e),s.addClass("nav-hidden"),a.addClass("nav-hidden"),l.width(e).addClass("opened").focus(),o.hasClass("isTablet")&&i("#searchBorder").width(e-10),c.addClass("hover");var t="rtl"==n.attr("dir")?"right":"left";u.css(t,e+10),u.removeClass("hidden"),n.on("click",p)}}()}),u.on("click",p)},closeSearcher:p}}(jQuery);searchController.init(),function(e){"use strict";var l,o,r,s,c,d,h;jQuery&&!jQuery.fn.hoverIntent&&(l=jQuery,s={interval:100,sensitivity:6,timeout:0},c=0,d=function(e){o=e.pageX,r=e.pageY},h=function(e,t,i,n){if(Math.sqrt((i.pX-o)*(i.pX-o)+(i.pY-r)*(i.pY-r))<n.sensitivity)return t.off(i.event,d),delete i.timeoutId,i.isActive=!0,e.pageX=o,e.pageY=r,delete i.pX,delete i.pY,n.over.apply(t[0],[e]);i.pX=o,i.pY=r,i.timeoutId=setTimeout(function(){h(e,t,i,n)},n.interval)},l.fn.hoverIntent=function(e,t,i){var n=c++,a=l.extend({},s);l.isPlainObject(e)?(a=l.extend(a,e),l.isFunction(a.out)||(a.out=a.over)):a=l.isFunction(t)?l.extend(a,{over:e,out:t,selector:i}):l.extend(a,{over:e,out:e,selector:t});var o=function(e){var o=l.extend({},e),r=l(this),t=r.data("hoverIntent");t||r.data("hoverIntent",t={});var s=t[n];s||(t[n]=s={id:n}),s.timeoutId&&(s.timeoutId=clearTimeout(s.timeoutId));var i=s.event="mousemove.hoverIntent.hoverIntent"+n;if("mouseenter"===e.type){if(s.isActive)return;s.pX=o.pageX,s.pY=o.pageY,r.off(i,d).on(i,d),s.timeoutId=setTimeout(function(){h(o,r,s,a)},a.interval)}else{if(!s.isActive)return;r.off(i,d),s.timeoutId=setTimeout(function(){var e,t,i,n;e=o,t=r,i=s,n=a.out,delete t.data("hoverIntent")[i.id],n.apply(t[0],[e])},a.timeout)}};return this.on({"mouseenter.hoverIntent":o,"mouseleave.hoverIntent":o},a.selector)})}(),function(){var l,n,o,s,r={}.hasOwnProperty;(s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,r,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled,classes:e.className}),s=[],n=0,o=(r=e.childNodes).length;n<o;n++)i=r[n],s.push(this.add_option(i,t,e.disabled));return s},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,altSpelling:e.getAttribute("data-alt-spellings"),countrySales:e.getAttribute("data-country-sales"),html:e.innerHTML,selected:e.selected,disabled:!0===i?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,i,n,o,r;for(i=new s,n=0,o=(r=e.childNodes).length;n<o;n++)t=r[n],i.add_node(t);return i.parsed},n=function(){function i(e,t){this.form_field=e,this.options=null!=t?t:{},i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return i.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},i.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},i.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},i.prototype.results_option_build=function(e){var t,i,n,o,r;for(t="",n=0,o=(r=this.results_data).length;n<o;n++)t+=(i=r[n]).group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},i.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML="true"===e.countrySales?'<span class="salesIcon icon">b</span>'+e.search_text:'<span class="salesIcon"></span>'+e.search_text,this.outerHTML(i)):""},i.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(i=document.createElement("li")).className=t.join(" "),i.innerHTML=e.search_text,this.outerHTML(i)):""},i.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},i.prototype.reset_single_select_options=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.results_data).length;t<i;t++)e=n[t],o.push(e.selected?e.selected=!1:void 0);return o},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(){var e,t,i,n,o,r,s,a,l,c,d,h;for(this.no_results_clear(),n=0,e=(r=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),i=this.get_search_regex(e),c=0,d=(h=this.results_data).length;c<d;c++)(t=h[c]).search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(o=this.results_data[t.group_array_index]).active_options&&o.search_match&&(n+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.text,t.search_altSpelling=t.group?t.label:t.altSpelling,t.search_match=this.search_string_match(t.altSpelling,i),t.search_match&&!t.group&&(n+=1),t.search_match?(r.length&&(s=t.search_text.search(l),a=t.search_altSpelling.substr(0,s+r.length)+"</em>"+t.search_altSpelling.substr(s+r.length),t.search_altSpelling=a.substr(0,s)+"<em>"+a.substr(s)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),n<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},i.prototype.search_string_match=function(e,t){var i,n,o,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" ")).length)for(o=0,r=n.length;o<r;o++)if(i=n[o],t.test(i))return!0},i.prototype.choices_count=function(){var e,t,i;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(i=this.form_field.options).length;e<t;e++)i[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},i.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},i.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},i.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",i}(),(l=jQuery).fn.extend({chosen:function(i){return n.browser_is_supported()?this.each(function(){var e,t;t=(e=l(this)).data("chosen"),"destroy"===i&&t instanceof o?t.destroy():t instanceof o||e.data("chosen",new o(this,i))}):this}}),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,n),t.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},t.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default focusElem" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){t.container_mousedown(e)}),this.container.bind("touchend.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},t.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},t.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},t.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},t.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},t.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},t.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(e){var t,i,n,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(t=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-n?t-n:0);if(i<o)return this.search_results.scrollTop(i)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results();var e=this.dropdown.find(".chosen-results"),t=(this.current_selectedIndex-1)*e.find("li").first().height()+parseInt(e.css("padding-top"),10);return e.scrollTop(t),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})},t.prototype.update_results_content=function(e){return this.search_results.html(e)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},t.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},t.prototype.search_results_mouseover=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())?this.result_do_highlight(t):void 0},t.prototype.search_results_mouseout=function(e){return l(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},t.prototype.choice_build=function(e){var t,i,n=this;return t=l("<li />",{class:"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((i=l("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),t.append(i)),this.search_container.before(t)},t.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(e.target))},t.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},t.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,i,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),(i=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):(n=!1,"true"===i.countrySales&&(n=!0),this.single_set_selected_text_sales(i.text,n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},t.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},t.prototype.single_set_selected_text_sales=function(e,t){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),t?this.selected_item.find("span").text(e).prepend('<span class="salesIcon selected icon">b</span>'):this.selected_item.find("span").text(e)},t.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},t.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()},t.prototype.winnow_results_set_highlight=function(){var e,t;return null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first())?this.result_do_highlight(e):void 0},t.prototype.no_results=function(e){var t;return(t=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},t.prototype.search_field_scale=function(){var e,t,i,n,o,r,s,a;if(this.is_multiple){for(n="position:absolute; left: -1000px; top: -1000px; display:none;",s=r=0,a=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;s<a;s++)n+=(i=o[s])+":"+this.search_field.css(i)+";";return(e=l("<div />",{style:n})).text(this.search_field.val()),l("body").append(e),r=e.width()+25,e.remove(),(t=this.container.outerWidth())-10<r&&(r=t-10),this.search_field.css({width:r+"px"})}},t}()}.call(this),function(E,S,T,e){var t={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},I=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},v=S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame||S.oRequestAnimationFrame||S.msRequestAnimationFrame||function(e){setTimeout(e,17)},O=function(e,t){var i=E(e).css(t),n=/^-?\d+/.exec(i);return n?+n[0]:0},r=.5*Math.PI,p=10*Math.log(2),s=function(e,t,i){var n=r/t,o=e*n;return Math.round(o*Math.cos(n*i))},a=function(e,t,i,n){return 2*i/Math.PI*Math.asin((n-e)/t)},A=function(e){var t=E(this).data("enscroll"),i=this,n=t.settings;t&&n.showOnHover&&(t._fadeTimer?clearTimeout(t._fadeTimer):(n.verticalScrolling&&E(t.verticalTrackWrapper).is(":visible")&&E(t.verticalTrackWrapper).stop().fadeTo(275,1),n.horizontalScrolling&&E(t.horizontalTrackWrapper).is(":visible")&&E(t.horizontalTrackWrapper).stop().fadeTo(275,1)),!1!==e&&(t._fadeTimer=setTimeout(function(){(function(){var e=E(this).data("enscroll"),t=e.settings;e&&t.showOnHover&&(t.verticalScrolling&&E(e.verticalTrackWrapper).is(":visible")&&E(e.verticalTrackWrapper).stop().fadeTo(275,0),t.horizontalScrolling&&E(e.horizontalTrackWrapper).is(":visible")&&E(e.horizontalTrackWrapper).stop().fadeTo(275,0),e._fadeTimer=null)}).call(i)},1750)))},L=function(e,t){var i=E(e),n=i.data("enscroll"),o=i.scrollTop();n&&n.settings.verticalScrolling&&(i.scrollTop(o+t),n.settings.showOnHover&&A.call(e))},M=function(e,t){var i=E(e),n=i.data("enscroll"),o=i.scrollLeft();n&&n.settings.horizontalScrolling&&(i.scrollLeft(o+t),n.settings.showOnHover&&A.call(e))},P=function(e){if(1===e.which){var t,i,n,o,r,s,a,l,c,d=e.data.pane,h=E(d),u=h.data("enscroll"),p=!0,f=function(){p&&(n!==o&&(u._scrollingY||(u._scrollingY=!0,u._startY=h.scrollTop(),v(function(){g(h)})),i.style.top=n+"px",u._endY=n*c/l,o=n),v(f),u.settings.showOnHover&&A.call(d))},m=function(){return p=!1,T.body.style.cursor=a,this.style.cursor="",t.removeClass("dragging"),E(T.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),E(T).off("mouseout.enscroll.vertical"),h.on("scroll.enscroll.pane",function(e){F.call(this,e)}),!1};return t=E(u.verticalTrackWrapper).find(".enscroll-track"),i=t.children().first()[0],n=parseInt(i.style.top,10),c=d.scrollHeight-(u._scrollHeightNoPadding?E(d).height():E(d).innerHeight()),r=e.clientY-E(i).offset().top,l=t.height()-E(i).outerHeight(),s=t.offset().top,h.off("scroll.enscroll.pane"),E(T.body).on({"mousemove.enscroll.vertical":function(e){return p&&(n=e.clientY-s-r,n=Math.min(n<0?0:n,l)),!1},"mouseup.enscroll.vertical":function(e){m.call(i,e)}}),E(T).on("mouseout.enscroll.vertical",function(e){e.target.nodeName&&"HTML"===e.target.nodeName.toUpperCase()&&m.call(i,e)}),t.hasClass("dragging")||(t.addClass("dragging"),a=E(T.body).css("cursor"),this.style.cursor=T.body.style.cursor="ns-resize"),v(f),!1}},N=function(e){if(1===e.which){var t,i,n,o,r,s,a,l,c,d=e.data.pane,h=E(d),u=E(d).data("enscroll"),p=!0,f=function(){p&&(n!==o&&(u._scrollingX||(u._scrollingX=!0,u._startX=h.scrollLeft(),v(function(){g(h)})),i.style.left=n+"px",u._endX=n*r/c,o=n),v(f),u.settings.showOnHover&&A.call(d))},m=function(){return p=!1,t.removeClass("dragging"),T.body.style.cursor=l,this.style.cursor="",t.removeClass("dragging"),E(T.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),E(T).off("mouseout.enscroll.horizontal"),h.on("scroll.enscroll.pane",function(e){F.call(this,e)}),!1};return t=E(u.horizontalTrackWrapper).find(".enscroll-track"),i=t.children().first()[0],n=parseInt(i.style.left,10),r=d.scrollWidth-E(d).innerWidth(),s=e.clientX-E(i).offset().left,c=t.width()-E(i).outerWidth(),a=t.offset().left,h.off("scroll.enscroll.pane"),E(T.body).on({"mousemove.enscroll.horizontal":function(e){return p&&(n=e.clientX-a-s,n=Math.min(n<0?0:n,c)),!1},"mouseup.enscroll.horizontal":function(e){m.call(i,e)}}),E(T).on("mouseout.enscroll.horizontal",function(e){e.target.nodeName&&"HTML"===e.target.nodeName.toUpperCase()&&m.call(i,e)}),t.hasClass("dragging")||(t.addClass("dragging"),l=E("body").css("cursor"),this.style.cursor=T.body.style.cursor="ew-resize"),v(f),!1}},g=function(e){var t,i,n,o=e.data("enscroll"),r=o._duration;!0===o._scrollingX&&(0===(t=o._endX-o._startX)?o._scrollingX=!1:(i=e.scrollLeft(),n=a(o._startX,t,r,i),0<t?i>=o._endX||i<o._startX?o._scrollingX=!1:(M(e,Math.max(1,s(t,r,n))),v(function(){g(e)})):i<=o._endX||i>o._startX?o._scrollingX=!1:(M(e,Math.min(-1,s(t,r,n))),v(function(){g(e)})))),!0===o._scrollingY&&(0===(t=o._endY-o._startY)?o._scrollingY=!1:(i=e.scrollTop(),n=a(o._startY,t,r,i),0<t?i>=o._endY||i<o._startY?o._scrollingY=!1:(L(e,Math.max(1,s(t,r,n))),v(function(){g(e)})):i<=o._endY||i>o._startY?o._scrollingY=!1:(L(e,Math.min(-1,s(t,r,n))),v(function(){g(e)}))))},H=function(e,t){var i=e.data("enscroll"),n=e.scrollLeft(),o=e[0].scrollWidth-e.innerWidth();return!(!i.settings.horizontalScrolling||i._scrollingY)&&(i._scrollingX||(i._scrollingX=!0,i._startX=n,i._endX=i._startX,v(function(){g(e)})),i._endX=0<t?Math.min(n+t,o):Math.max(0,n+t),t<0&&0<n||0<t&&n<o)},D=function(e,t){var i=e.data("enscroll"),n=e.scrollTop(),o=e[0].scrollHeight-(i._scrollHeightNoPadding?e.height():e.innerHeight());return!(!i.settings.verticalScrolling||i._scrollingX)&&(i._scrollingY||(i._scrollingY=!0,i._startY=n,i._endY=i._startY,v(function(){g(e)})),i._endY=0<t?Math.min(n+t,o):Math.max(0,n+t),t<0&&0<n||0<t&&n<o)},F=function(){var e,t,i,n=E(this),o=n.data("enscroll");o&&(o.settings.verticalScrolling&&(e=(t=E(o.verticalTrackWrapper).find(".enscroll-track")[0]).firstChild,i=n.scrollTop()/(this.scrollHeight-(o._scrollHeightNoPadding?n.height():n.innerHeight())),i=isNaN(i)?0:i,e.style.top=i*(E(t).height()-E(e).outerHeight())+"px"),o.settings.horizontalScrolling&&(e=(t=E(o.horizontalTrackWrapper).find(".enscroll-track")[0]).firstChild,i=n.scrollLeft()/(this.scrollWidth-n.innerWidth()),i=isNaN(i)?0:i,e.style.left=i*(E(t).width()-E(e).innerWidth())+"px"))},j=function(e){var t,i=E(this),n=i.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&e.target===this&&n){switch(t=n.settings.scrollIncrement,e.keyCode){case 32:case 34:return D(i,i.height()),!1;case 33:return D(i,-i.height()),!1;case 35:return D(i,this.scrollHeight),!1;case 36:return D(i,-this.scrollHeight),!1;case 37:return H(i,-t),!1;case 38:return D(i,-t),!1;case 39:return H(i,t),!1;case 40:return D(i,t),!1}return!0}},B=function(){var e=this,t=E(e).data("enscroll").settings,i=!0,n=0,o=0,r=E(e).offset().top,s=r+E(e).outerHeight(),a=E(e).offset().left,l=a+E(e).outerWidth(),c=function(){t.horizontalScrolling&&n&&M(e,parseInt(n/4,10)),t.verticalScrolling&&o&&L(e,parseInt(o/4,10)),i&&v(c)};v(c),E(T).on({"mousemove.enscroll.pane":function(e){var t=e.pageX,i=e.pageY;n=t<a?t-a:l<t?t-l:0,o=i<r?i-r:s<i?i-s:0},"mouseup.enscroll.pane":function(){i=!1,E(T).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")}})},z=function(e){var t,i,a,n,o,l,c,d=this,h=function(e){t=e.touches[0].clientX,i=e.touches[0].clientY,a||(a=i===o&&t===n?void 0:Math.abs(o-i)>Math.abs(n-t)?"y":"x"),I(e)},r=function(){l&&("y"===a?(L(d,o-i),c=o-i,o=i):"x"===a&&(M(d,n-t),c=n-t,n=t),v(r))},u=function(){var r=0,s=Math.abs(1.5*c);this.removeEventListener("touchmove",h,!1),this.removeEventListener("touchend",u,!1),l=!1,v(function e(){var t,i,n,o;r===s||l||(i=c,n=s,o=r,t=Math.round(i*p*Math.pow(2,-10*o/n+1)/n),isNaN(t)||0===t||(r+=1,"y"===a?L(d,t):M(d,t),v(e)))})};1===e.touches.length&&(n=e.touches[0].clientX,o=e.touches[0].clientY,l=!0,this.addEventListener("touchmove",h,!1),this.addEventListener("touchend",u,!1),v(r))},W={reposition:function(){return this.each(function(){var e,t,i,n=E(this),o=n.data("enscroll"),r=function(e,t,i){e.style.left=t+"px",e.style.top=i+"px"};o&&(i=n.position(),e=o.corner,o.settings.verticalScrolling&&r(t=o.verticalTrackWrapper,"right"===o.settings.verticalScrollerSide?i.left+n.outerWidth()-E(t).width()-O(this,"border-right-width"):i.left+O(this,"border-left-width"),i.top+O(this,"border-top-width")),o.settings.horizontalScrolling&&r(t=o.horizontalTrackWrapper,i.left+O(this,"border-left-width"),i.top+n.outerHeight()-E(t).height()-O(this,"border-bottom-width")),e&&r(e,i.left+n.outerWidth()-E(e).outerWidth()-O(this,"border-right-width"),i.top+n.outerHeight()-E(e).outerHeight()-O(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var e,t,i,n,o,r,s,a,l,c,d,h,u,p,f,m,v=E(this),g=v.data("enscroll");return!g||(e=g.settings,void(v.is(":visible")?(e.verticalScrolling&&(n=g.verticalTrackWrapper,o=(t=v.innerHeight())/this.scrollHeight,r=E(n).find(".enscroll-track")[0],l=E(n).find("."+e.scrollUpButtonClass),c=E(n).find("."+e.scrollDownButtonClass),a=e.horizontalScrolling?t-E(g.horizontalTrackWrapper).find(".enscroll-track").outerHeight():t,a-=E(r).outerHeight()-E(r).height()+l.outerHeight()+c.outerHeight(),u=r.firstChild,f=Math.max(o*a,e.minScrollbarLength),f-=E(u).outerHeight()-E(u).height(),n.style.display="none",r.style.height=a+"px",u.style.height=f+"px",o<1&&(o=v.scrollTop()/(this.scrollHeight-v.height()),u.style.top=o*(a-f)+"px",n.style.display="block")),e.horizontalScrolling&&(n=g.horizontalTrackWrapper,o=(i=v.innerWidth())/this.scrollWidth,r=E(n).find(".enscroll-track")[0],d=E(n).find("."+e.scrollLeftButtonClass),h=E(n).find("."+e.scrollRightButtonClass),s=e.verticalScrolling?i-E(g.verticalTrackWrapper).find(".enscroll-track").outerWidth():i,s-=E(r).outerWidth()-E(r).width()+d.outerWidth()+h.outerWidth(),u=r.firstChild,p=Math.max(o*s,e.minScrollbarLength),p-=E(u).outerWidth()-E(u).width(),n.style.display="none",r.style.width=s+"px",u.style.width=p+"px",o<1&&(o=v.scrollLeft()/(this.scrollWidth-v.width()),u.style.left=o*(s-p)+"px",n.style.display="block"),g._prybar&&(m=g._prybar,this.removeChild(m),e.verticalScrolling&&(m.style.width=this.scrollWidth+E(g.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(m)))),g.corner&&(g.corner.style.display=g.verticalTrackWrapper&&g.horizontalTrackWrapper&&E(g.verticalTrackWrapper).is(":visible")&&E(g.horizontalTrackWrapper).is(":visible")?"":"none")):(e.verticalScrolling&&(g.verticalTrackWrapper.style.display="none"),e.horizontalScrolling&&(g.horizontalTrackWrapper.style.display="none"),g.corner&&(g.corner.style.display="none"))))})},startPolling:function(){return this.each(function(){var r,s=E(this).data("enscroll"),a=this,l=E(a),c=-1,d=-1,h=-1,u=-1,p=function(){if(s.settings.pollChanges){var e=a.scrollWidth,t=a.scrollHeight,i=l.width(),n=l.height(),o=l.offset();(s.settings.verticalScrolling&&(n!==d||t!==u)||s.settings.horizontalScrolling&&(i!==c||e!==h))&&(h=e,u=t,W.resize.call(l)),(r.left!==o.left||r.top!==o.top||i!==c||n!==d)&&(r=o,c=i,d=n,W.reposition.call(l)),setTimeout(p,350)}};s&&(s.settings.pollChanges=!0,u=a.scrollHeight,h=a.scrollWidth,r=l.offset(),p())})},stopPolling:function(){return this.each(function(){var e=E(this).data("enscroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var e,t,i=E(this),n=i.data("enscroll");n&&(W.stopPolling.call(i),t=n._mouseScrollHandler,n.settings.verticalScrolling&&(e=n.verticalTrackWrapper,E(e).remove(),e=null),n.settings.horizontalScrolling&&(e=n.horizontalTrackWrapper,E(e).remove(),e=null),n._fadeTimer&&clearTimeout(n._fadeTimer),n.corner&&E(n.corner).remove(),n._prybar&&n._prybar.parentNode&&n._prybar.parentNode===this&&E(n._prybar).remove(),this.setAttribute("style",n._style||""),n._hadTabIndex||i.removeAttr("tabindex"),i.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",t,!1),this.removeEventListener("mousewheel",t,!1),this.removeEventListener("touchstart",z,!1)):this.detachEvent&&this.detachEvent("onmousewheel",t),E(S).off("resize.enscroll.window"))})}};E.fn.enscroll=function(e){var k;return W[e]?W[e].call(this):(k=E.extend({},t,e),this.each(function(){if(k.verticalScrolling||k.horizontalScrolling){var e,t,i,n,o,r,s,a,l,c,d,h,u,p,f,m,v,g=E(this),y=this,b=g.attr("style"),_=!0,w={position:"absolute","z-index":k.zIndex,margin:0,padding:0},x=function(e){(function(e){var t=E(this),i=t.data("enscroll"),n=i.settings.scrollIncrement,o="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,r="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(o)>Math.abs(r)?(H(t,(0<o?-n:n)<<2)||!i.settings.propagateWheelEvent)&&I(e):(D(t,(0<r?-n:n)<<2)||!i.settings.propagateWheelEvent)&&I(e)}).call(y,e)},C=function(e,t){"string"==typeof t?E(e).html(t):e.appendChild(t)};if(k.verticalScrolling){t=T.createElement("div"),n=T.createElement("div"),r=T.createElement("a"),E(n).css("position","relative").addClass("enscroll-track").addClass(k.verticalTrackClass).appendTo(t),k.drawScrollButtons&&(s=T.createElement("a"),a=T.createElement("a"),E(s).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(k.scrollUpButtonClass).on("click",function(){return L(y,-k.scrollIncrement),!1}).insertBefore(n),E(a).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return L(y,k.scrollIncrement),!1}).addClass(k.scrollDownButtonClass).appendTo(t)),k.clickTrackToScroll&&E(n).on("click",function(e){e.target===this&&D(g,e.pageY>E(r).offset().top?g.height():-g.height())}),E(r).css({position:"absolute","z-index":1}).attr("href","").addClass(k.verticalHandleClass).mousedown({pane:this},P).click(function(){return!1}).appendTo(n),C(r,k.verticalHandleHTML),E(t).css(w).insertAfter(this),k.showOnHover&&E(t).css("opacity",0).on("mouseover.enscroll.vertical",function(){A.call(y,!1)}).on("mouseout.enscroll.vertical",function(){A.call(y)}),h=E(n).outerWidth(),k.addPaddingToPane&&(v="right"===k.verticalScrollerSide?{"padding-right":O(this,"padding-right")+h+"px"}:{"padding-left":O(this,"padding-left")+h+"px"},g.css(E.extend({width:g.width()-h+"px"},v)));try{0!==(f=parseInt(g.css("outline-width"),10))&&!isNaN(f)||"none"!==g.css("outline-style")||g.css("outline","none")}catch(e){g.css("outline","none")}}k.horizontalScrolling&&(e=T.createElement("div"),i=T.createElement("div"),o=T.createElement("a"),E(i).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(k.horizontalTrackClass).appendTo(e),k.drawScrollButtons&&(l=T.createElement("a"),c=T.createElement("a"),E(l).css("display","block").attr("href","").on("click",function(){return M(y,-k.scrollIncrement),!1}).addClass(k.scrollLeftButtonClass).insertBefore(i),E(c).css("display","block").attr("href","").on("click",function(){return M(y,k.scrollIncrement),!1}).addClass(k.scrollRightButtonClass).appendTo(e)),k.clickTrackToScroll&&E(i).on("click",function(e){e.target===this&&H(g,e.pageX>E(o).offset().left?g.width():-g.width())}),E(o).css({position:"absolute","z-index":1}).attr("href","").addClass(k.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},N).appendTo(i),C(o,k.horizontalHandleHTML),E(e).css(w).insertAfter(this),k.showOnHover&&E(e).css("opacity",0).on("mouseover.enscroll.horizontal",function(){A.call(y,!1)}).on("mouseout.enscroll.horizontal",function(){A.call(y)}),d=E(i).outerHeight(),k.addPaddingToPane&&g.css({height:g.height()-d+"px","padding-bottom":parseInt(g.css("padding-bottom"),10)+d+"px"}),k.verticalScrolling&&(m=document.createElement("div"),E(m).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),k.verticalScrolling&&k.horizontalScrolling&&k.drawCorner&&(u=T.createElement("div"),E(u).addClass(k.cornerClass).css(w).insertAfter(this)),g.attr("tabindex")||(g.attr("tabindex",0),_=!1);try{(!(p=g.css("outline"))||p.length<1)&&g.css("outline","none")}catch(e){g.css("outline","none")}g.on({"scroll.enscroll.pane":function(e){F.call(this,e)},"keydown.enscroll.pane":j,"mousedown.enscroll.pane":B}).css("overflow","hidden").data("enscroll",{settings:k,horizontalTrackWrapper:e,verticalTrackWrapper:t,corner:u,_prybar:m,_mouseScrollHandler:x,_hadTabIndex:_,_style:b,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(k.easingDuration/16.66666,10),_scrollHeightNoPadding:function(e){var t,i,n={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},o=document.createElement(e),r=document.createTextNode("a\na");for(i in n)o.style[i]=n[i];return o.appendChild(r),document.body.appendChild(o),t=o.scrollHeight<28,document.body.removeChild(o),t}(this.nodeName)}),E(S).on("resize.enscroll.window",function(){W.reposition.call(g)}),k.showOnHover&&g.on("mouseenter.enscroll.pane",function(){A.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in S&&0<=navigator.userAgent.toLowerCase().indexOf("msie")?this.addEventListener("wheel",x,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",x,!1),this.addEventListener("touchstart",z,!1)):this.attachEvent&&this.attachEvent("onmousewheel",x),k.pollChanges&&W.startPolling.call(g),W.resize.call(g),W.reposition.call(g)}}))}}(jQuery,window,document),function(g){"use strict";function e(){O(!0)}var p={};(g.respond=p).update=function(){};var r=[],n=function(){var t=!1;try{t=new g.XMLHttpRequest}catch(e){t=new g.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),i=function(e,t){var i=n();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},f=function(e){return e.replace(p.regex.minmaxwh,"").match(p.regex.other)};if(p.ajax=i,p.queue=r,p.unsupportedmq=f,p.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},p.mediaQueriesSupported=g.matchMedia&&null!==g.matchMedia("only all")&&g.matchMedia("only all").matches,!p.mediaQueriesSupported){var y,b,_,w=g.document,x=w.documentElement,C=[],k=[],E=[],s={},S=w.getElementsByTagName("head")[0]||x,a=w.getElementsByTagName("base")[0],T=S.getElementsByTagName("link"),I=function(){var e,t=w.createElement("div"),i=w.body,n=x.style.fontSize,o=i&&i.style.fontSize,r=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=r=w.createElement("body")).style.background="none"),x.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(t),r&&x.insertBefore(i,x.firstChild),e=t.offsetWidth,r?x.removeChild(i):i.removeChild(t),x.style.fontSize=n,o&&(i.style.fontSize=o),_=parseFloat(e)},O=function(e){var t="clientWidth",i=x[t],n="CSS1Compat"===w.compatMode&&i||w.body[t]||i,o={},r=T[T.length-1],s=(new Date).getTime();if(e&&y&&s-y<30)return g.clearTimeout(b),void(b=g.setTimeout(O,30));for(var a in y=s,C)if(C.hasOwnProperty(a)){var l=C[a],c=l.minw,d=l.maxw,h=null===c,u=null===d;c&&(c=parseFloat(c)*(-1<c.indexOf("em")?_||I():1)),d&&(d=parseFloat(d)*(-1<d.indexOf("em")?_||I():1)),l.hasquery&&(h&&u||!(h||c<=n)||!(u||n<=d))||(o[l.media]||(o[l.media]=[]),o[l.media].push(k[l.rules]))}for(var p in E)E.hasOwnProperty(p)&&E[p]&&E[p].parentNode===S&&S.removeChild(E[p]);for(var f in E.length=0,o)if(o.hasOwnProperty(f)){var m=w.createElement("style"),v=o[f].join("\n");m.type="text/css",m.media=f,S.insertBefore(m,r.nextSibling),m.styleSheet?m.styleSheet.cssText=v:m.appendChild(w.createTextNode(v)),E.push(m)}},l=function(e,t,i){var n=e.replace(p.regex.comments,"").replace(p.regex.keyframes,"").match(p.regex.media),o=n&&n.length||0,r=function(e){return e.replace(p.regex.urls,"$1"+t+"$2$3")},s=!o&&i;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),s&&(o=1);for(var a=0;a<o;a++){var l,c,d,h;s?(l=i,k.push(r(e))):(l=n[a].match(p.regex.findStyles)&&RegExp.$1,k.push(RegExp.$2&&r(RegExp.$2))),h=(d=l.split(",")).length;for(var u=0;u<h;u++)c=d[u],f(c)||C.push({media:c.split("(")[0].match(p.regex.only)&&RegExp.$2||"all",rules:k.length-1,hasquery:-1<c.indexOf("("),minw:c.match(p.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(p.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}O()},c=function(){if(r.length){var t=r.shift();i(t.href,function(e){l(e,t.href,t.media),s[t.href]=!0,g.setTimeout(function(){c()},0)})}},t=function(){for(var e=0;e<T.length;e++){var t=T[e],i=t.href,n=t.media,o=t.rel&&"stylesheet"===t.rel.toLowerCase();i&&o&&!s[i]&&(t.styleSheet&&t.styleSheet.rawCssText?(l(t.styleSheet.rawCssText,i,n),s[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!a||i.replace(RegExp.$1,"").split("/")[0]===g.location.host)&&("//"===i.substring(0,2)&&(i=g.location.protocol+i),r.push({href:i,media:n})))}c()};t(),p.update=t,p.getEmValue=I,g.addEventListener?g.addEventListener("resize",e,!1):g.attachEvent&&g.attachEvent("onresize",e)}}(this),$(function(){var o=navigator.userAgent,s=/Edge/i.test(o),r=function(e){this.origHtmlMargin=parseFloat($("html").css("margin-top")),this.options=$.extend({},$.smartbanner.defaults,e);var t=navigator.standalone;if(this.options.force?this.type=this.options.force:null!==o.match(/Windows Phone/i)&&null!==o.match(/Edge|Touch/i)?this.type="windows":null!==o.match(/iPhone|iPod/i)||o.match(/iPad/)&&this.options.iOSUniversalApp?null!==o.match(/Safari/i)&&(null!==o.match(/CriOS/i)||window.Number(o.substr(o.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):o.match(/\bSilk\/(.*\bMobile Safari\b)?/)||o.match(/\bKF\w/)||o.match("Kindle Fire")?this.type="kindle":null!==o.match(/Android/i)&&(this.type="android"),this.type&&!t&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")){this.scale="auto"==this.options.scale?$(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var i=$("android"==this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':"kindle"==this.type?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(i.length){if("windows"==this.type)s&&(this.appId=$('meta[name="msApplication-PackageEdgeName"]').attr("content")),this.appId||(this.appId=$('meta[name="msApplication-PackageFamilyName"]').attr("content"));else{var n=/app-id=([^\s,]+)/.exec(i.attr("content"));if(!n)return;this.appId=n[1]}this.title=this.options.title?this.options.title:i.data("title")||$("title").text().replace(/\s*[|\-·].*$/,""),this.author=this.options.author?this.options.author:i.data("author")||($('meta[name="author"]').length?$('meta[name="author"]').attr("content"):window.location.hostname),this.iconUrl=i.data("icon-url"),this.price=i.data("price"),"function"==typeof this.options.onInstall?this.options.onInstall=this.options.onInstall:this.options.onInstall=function(){},"function"==typeof this.options.onClose?this.options.onClose=this.options.onClose:this.options.onClose=function(){},this.create(),this.show(),this.listen()}}};r.prototype={constructor:r,create:function(){var e,t=this.price||this.options.price,i=this.options.url||function(){switch(this.type){case"android":return"market://details?id=";case"kindle":return"amzn://apps/android?asin=";case"windows":return s?"ms-windows-store://pdp/?productid=":"ms-windows-store:navigate?appid="}return"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"}.call(this)+this.appId,n=t?function(){var e=t+" - ";switch(this.type){case"android":return e+this.options.inGooglePlay;case"kindle":return e+this.options.inAmazonAppStore;case"windows":return e+this.options.inWindowsStore}return e+this.options.inAppStore}.call(this):"",o=null==this.options.iconGloss?"ios"==this.type:this.options.iconGloss;"android"==this.type&&this.options.GooglePlayParams&&(i+="&referrer="+this.options.GooglePlayParams);var r='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+n+'</span></div><a href="'+i+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?$(this.options.appendToSelector).append(r):$(this.options.appendToSelector).prepend(r),this.options.icon?e=this.options.icon:this.iconUrl?e=this.iconUrl:0<$('link[rel="apple-touch-icon-precomposed"]').length?(e=$('link[rel="apple-touch-icon-precomposed"]').attr("href"),null==this.options.iconGloss&&(o=!1)):0<$('link[rel="apple-touch-icon"]').length?e=$('link[rel="apple-touch-icon"]').attr("href"):0<$('meta[name="msApplication-TileImage"]').length?e=$('meta[name="msApplication-TileImage"]').attr("content"):0<$('meta[name="msapplication-TileImage"]').length&&(e=$('meta[name="msapplication-TileImage"]').attr("content")),e?($("#smartbanner .sb-icon").css("background-image","url("+e+")"),o&&$("#smartbanner .sb-icon").addClass("gloss")):$("#smartbanner").addClass("no-icon"),this.bannerHeight=$("#smartbanner").outerHeight()+2,1<this.scale&&($("#smartbanner").css("top",parseFloat($("#smartbanner").css("top"))*this.scale).css("height",parseFloat($("#smartbanner").css("height"))*this.scale).hide(),$("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",$(window).width()/this.scale)),$("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){$("#smartbanner .sb-close").on("click",$.proxy(this.close,this)),$("#smartbanner .sb-button").on("click",$.proxy(this.install,this))},show:function(e){var t=$("#smartbanner");if(t.stop(),this.options.layer)t.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show(),$(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",e);else if($.support.transition){t.animate({top:0},this.options.speedIn).addClass("shown");$(this.pushSelector).addClass("sb-animation").one($.support.transition.end,function(){$("html").removeClass("sb-animation"),e&&e()}).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else t.slideDown(this.options.speedIn).addClass("shown")},hide:function(e){var t=$("#smartbanner");if(t.stop(),this.options.layer)t.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown"),$(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",e);else if($.support.transition){"android"!==this.type?t.css("top",-1*this.bannerHeight*this.scale).removeClass("shown"):t.css({display:"none"}).removeClass("shown");$(this.pushSelector).addClass("sb-animation").one($.support.transition.end,function(){$("html").removeClass("sb-animation"),e&&e()}).css("margin-top",this.origHtmlMargin)}else t.slideUp(this.options.speedOut).removeClass("shown")},close:function(e){e.preventDefault(),this.hide(),$("#benefits").show(),adjustHeaderMobile(),this.setCookie("sb-closed","true",this.options.daysHidden),this.options.onClose(e)},install:function(e){this.options.hideOnInstall&&(this.hide(),$("#benefits").show(),adjustHeaderMobile()),this.setCookie("sb-installed","true",this.options.daysReminder),this.options.onInstall(e)},setCookie:function(e,t,i){var n=new Date;n.setDate(n.getDate()+i),t=encodeURI(t)+(null==i?"":"; expires="+n.toUTCString()),document.cookie=e+"="+t+"; path=/;"},getCookie:function(e){var t,i,n,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(i=o[t].substr(0,o[t].indexOf("=")),n=o[t].substr(o[t].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))==e)return decodeURI(n);return null},switchType:function(){var t=this;this.hide(function(){t.type="android"==t.type?"ios":"android";var e=$("android"==t.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");t.appId=/app-id=([^\s,]+)/.exec(e)[1],$("#smartbanner").detach(),t.create(),t.show()})}},$.smartbanner=function(e){var t=$(window),i=t.data("smartbanner"),n="object"==typeof e&&e;i||t.data("smartbanner",i=new r(n)),"string"==typeof e&&i[e]()},$.smartbanner.defaults={title:"MANGO",author:"MANGO MNG",description:"FREE",openAppButtonText:"OPEN",downloadAppButtonText:"DOWNLOAD",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:null,inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:"//st2.mngbcn.com/static/images/androidApp/mango-logo.webp",iconGloss:null,button:"DOWNLOAD",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:1,daysReminder:0,force:"android",hideOnInstall:!0,layer:!1,iOSUniversalApp:!1,appendToSelector:".headerMNG",pushSelector:"body"},$.smartbanner.Constructor=r}),function(e,t){e.Choices=function(i){function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var o={};return n.m=i,n.c=o,n.p="/assets/scripts/dist/",n(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(2),c=n(r),s=i(3),a=n(s),l=i(4),d=n(l),f=i(31),b=i(32);i(33);var h=function(){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(0,b.isType)("String",e)){var i=document.querySelectorAll(e);if(1<i.length)for(var n=1;n<i.length;n++){var o=i[n];new l(o,t)}}var r={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:b.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+e+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added."},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:"item-choice"},this.config=(0,b.extend)(r,t),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new d.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=e,this.passedElement=(0,b.isType)("String",e)?document.querySelector(e):e,this.passedElement){this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),!(this.isScrollingOnIe=!1)===this.config.shouldSortItems&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,b.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0;var s="classList"in document.documentElement;s||this.config.silent||console.error("Choices: Your browser doesn't support Choices");var a=(0,b.isElement)(this.passedElement)&&this.isValidElementType;if(a){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed")}else this.config.silent||console.error("Passed element not found")}return o(l,[{key:"init",value:function(){if(!0!==this.initialised){var e=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,b.isType)("Function",e)&&e.call(this)}}},{key:"destroy",value:function(){if(!1!==this.initialised){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex");var e=this.passedElement.getAttribute("data-choice-orig-style");Boolean(e)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",e)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:"renderGroups",value:function(e,n,t){var o=this,r=t||document.createDocumentFragment(),i=this.config.sortFilter;return this.config.shouldSort&&e.sort(i),e.forEach(function(t){var e=n.filter(function(e){return o.isSelectOneElement?e.groupId===t.id:e.groupId===t.id&&!e.selected});if(1<=e.length){var i=o._getTemplate("choiceGroup",t);r.appendChild(i),o.renderChoices(e,r,!0)}}),r}},{key:"renderChoices",value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=t||document.createDocumentFragment(),r=this.config,s=r.renderSelectedChoices,a=r.searchResultLimit,l=r.renderChoiceLimit,c=this.isSearching?b.sortByScore:this.config.sortFilter,d=function(e){var t="auto"!==s||n.isSelectOneElement||!e.selected;if(t){var i=n._getTemplate("choice",e);o.appendChild(i)}},h=e;"auto"!==s||this.isSelectOneElement||(h=e.filter(function(e){return!e.selected}));var u=h.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=u.placeholderChoices,f=u.normalChoices;(this.config.shouldSort||this.isSearching)&&f.sort(c);var m=h.length,v=[].concat(y(p),y(f));this.isSearching?m=a:0<l&&!i&&(m=l);for(var g=0;g<m;g++)v[g]&&d(v[g]);return o}},{key:"renderItems",value:function(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=t||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement){var o=this.store.getItemsReducedToValues(e),r=o.join(this.config.delimiter);this.passedElement.setAttribute("value",r),this.passedElement.value=r}else{var s=document.createDocumentFragment();e.forEach(function(e){var t=i._getTemplate("option",e);s.appendChild(t)}),this.passedElement.innerHTML="",this.passedElement.appendChild(s)}return e.forEach(function(e){var t=i._getTemplate("item",e);n.appendChild(t)}),n}},{key:"render",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),i=document.createDocumentFragment();this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),1<=e.length&&!0!==this.isSearching?i=this.renderGroups(e,t,i):1<=t.length&&(i=this.renderChoices(t,i));var n=this.store.getItemsFilteredByActive(),o=this._canAddItem(n,this.input.value);if(i.childNodes&&0<i.childNodes.length)o.response?(this.choiceList.appendChild(i),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",o.notice));else{var r=void 0,s=void 0;r=this.isSearching?(s=(0,b.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,this._getTemplate("notice",s,"no-results")):(s=(0,b.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,this._getTemplate("notice",s,"no-choices")),this.choiceList.appendChild(r)}}if(this.currentState.items!==this.prevState.items){var a=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML="",a&&a){var l=this.renderItems(a);l.childNodes&&this.itemList.appendChild(l)}}this.prevState=this.currentState}}},{key:"highlightItem",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e)return this;var i=e.id,n=e.groupId,o=0<=n?this.store.getGroupById(n):null;return this.store.dispatch((0,f.highlightItem)(i,!0)),t&&(o&&o.value?(0,b.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label,groupValue:o.value}):(0,b.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,i=e.groupId,n=0<=i?this.store.getGroupById(i):null;return this.store.dispatch((0,f.highlightItem)(t,!1)),n&&n.value?(0,b.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:n.value}):(0,b.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var t=this,e=this.store.getItems();return e.forEach(function(e){t.highlightItem(e)}),this}},{key:"unhighlightAll",value:function(){var t=this,e=this.store.getItems();return e.forEach(function(e){t.unhighlightItem(e)}),this}},{key:"removeItemsByValue",value:function(t){var i=this;if(!t||!(0,b.isType)("String",t))return this;var e=this.store.getItemsFilteredByActive();return e.forEach(function(e){e.value===t&&i._removeItem(e)}),this}},{key:"removeActiveItems",value:function(t){var i=this,e=this.store.getItemsFilteredByActive();return e.forEach(function(e){e.active&&t!==e.id&&i._removeItem(e)}),this}},{key:"removeHighlightedItems",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.store.getItemsFilteredByActive();return e.forEach(function(e){e.highlighted&&e.active&&(t._removeItem(e),i&&t._triggerChange(e.value))}),this}},{key:"showDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=document.body,i=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var o=this.dropdown.getBoundingClientRect(),r=Math.ceil(o.top+window.scrollY+this.dropdown.offsetHeight),s=!1;return"auto"===this.config.position?s=n<=r:"top"===this.config.position&&(s=!0),s&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,b.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,b.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){var e=this.dropdown.classList.contains(this.config.classNames.activeState);return e?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.store.getItemsFilteredByActive(),n=[];return e.forEach(function(e){t.isTextElement?n.push(i?e.value:e):e.active&&n.push(i?e.value:e)}),this.isSelectOneElement?n[0]:n}},{key:"setValue",value:function(e){var i=this;if(!0===this.initialised){var t=[].concat(y(e)),n=function(e){var t=(0,b.getType)(e);if("Object"===t){if(!e.value)return;i.isTextElement?i._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):i._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)}else"String"===t&&(i.isTextElement?i._addItem(e):i._addChoice(e,e,!0,!1,-1,null))};1<t.length?t.forEach(function(e){n(e)}):n(t[0])}return this}},{key:"setValueByChoice",value:function(e){var i=this;if(!this.isTextElement){var n=this.store.getChoices(),t=(0,b.isType)("Array",e)?e:[e];t.forEach(function(t){var e=n.find(function(e){return e.value===t});e?e.selected?i.config.silent||console.warn("Attempting to select choice already selected"):i._addItem(e.value,e.label,e.id,e.groupId,e.customProperties,e.placeholder,e.keyCode):i.config.silent||console.warn("Attempting to select choice that does not exist")})}return this}},{key:"setChoices",value:function(e,t,i){var n=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,b.isType)("Array",e)||!t)return this;o&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?n._addGroup(e,e.id||null,t,i):n._addChoice(e[t],e[i],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,f.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,f.activateChoices)(!0))),this}},{key:"enable",value:function(){if(this.initialised){this.passedElement.disabled=!1;var e=this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))}return this}},{key:"disable",value:function(){if(this.initialised){this.passedElement.disabled=!0;var e=!this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))}return this}},{key:"ajax",value:function(e){var t=this;return!0===this.initialised&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,b.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var i=t.parentNode.getAttribute("data-id"),n=e.find(function(e){return e.id===parseInt(i,10)});this._removeItem(n),this._triggerChange(n.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_selectPlaceholderChoice",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:"_handleItemAction",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e&&t&&this.config.removeItems&&!this.isSelectOneElement){var o=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(o,10)||e.highlighted?n||e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus()}}},{key:"_handleChoiceAction",value:function(e,t){if(e&&t){var i=t.getAttribute("data-id"),n=this.store.getChoiceById(i),o=e[0]&&e[0].keyCode?e[0].keyCode:null,r=this.dropdown.classList.contains(this.config.classNames.activeState);if(n.keyCode=o,(0,b.triggerEvent)(this.passedElement,"choice",{choice:n}),n&&!n.selected&&!n.disabled){var s=this._canAddItem(e,n.value);s.response&&(this._addItem(n.value,n.label,n.id,n.groupId,n.customProperties,n.placeholder,n.keyCode),this._triggerChange(n.value))}this.clearInput(),r&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],i=e.some(function(e){return e.highlighted});this.config.editItems&&!i&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(i||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:"_canAddItem",value:function(e,t){var i=!0,n=(0,b.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;(this.isSelectMultipleElement||this.isTextElement)&&0<this.config.maxItemCount&&this.config.maxItemCount<=e.length&&(i=!1,n=(0,b.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&i&&this.config.regexFilter&&(i=this._regexFilter(t));var o=!e.some(function(e){return(0,b.isType)("String",t)?e.value===t.trim():e.value===t});return o||this.config.duplicateItems||this.isSelectOneElement||!i||(i=!1,n=(0,b.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:i,notice:n}}},{key:"_handleLoadingState",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var o=this;return function(e,i,n){if(e&&i){var t=(0,b.isType)("Object",e)?[e]:e;t&&(0,b.isType)("Array",t)&&t.length?(o._handleLoadingState(!1),o._setLoading(!0),t.forEach(function(e){if(e.choices){var t=e.id||null;o._addGroup(e,t,i,n)}else o._addChoice(e[i],e[n],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)}),o._setLoading(!1),o.isSelectOneElement&&o._selectPlaceholderChoice()):o._handleLoadingState(!1),o.containerOuter.removeAttribute("aria-busy")}}}},{key:"_searchChoices",value:function(e){var t=(0,b.isType)("String",e)?e.trim():e,i=(0,b.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(1<=t.length&&t!==i+" "){var n=this.store.getSearchableChoices(),o=t,r=(0,b.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],s=Object.assign(this.config.fuseOptions,{keys:r}),a=new c.default(n,s),l=a.search(o);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,f.filterChoices)(l)),l.length}return 0}},{key:"_handleSearch",value:function(e){if(e){var t=this.store.getChoices(),i=t.some(function(e){return!e.active});if(this.input===document.activeElement)if(e&&e.length>=this.config.searchFloor){var n=0;this.config.searchChoices&&(n=this._searchChoices(e)),(0,b.triggerEvent)(this.passedElement,"search",{value:e,resultCount:n})}else i&&(this.isSearching=!1,this.store.dispatch((0,f.activateChoices)(!0)))}}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,b.getWidthOfInput)(this.input)):this.input.style.width=(0,b.getWidthOfInput)(this.input)}},{key:"_onKeyDown",value:function(o){var e,r=this;if(o.target===this.input||this.containerOuter.contains(o.target)){var n=o.target,s=this.store.getItemsFilteredByActive(),t=this.input===document.activeElement,a=this.dropdown.classList.contains(this.config.classNames.activeState),i=this.itemList&&this.itemList.children,l=String.fromCharCode(o.keyCode),c=o.ctrlKey||o.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(l)||a||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var d=function(){if(a||r.isSelectOneElement){a||r.showDropdown(!0),r.canSearch=!1;var e=40===o.keyCode||34===o.keyCode?1:-1,t=o.metaKey||34===o.keyCode||33===o.keyCode,i=void 0;if(t)i=0<e?Array.from(r.dropdown.querySelectorAll("[data-choice-selectable]")).pop():r.dropdown.querySelector("[data-choice-selectable]");else{var n=r.dropdown.querySelector("."+r.config.classNames.highlightedState);i=n?(0,b.getAdjacentEl)(n,"[data-choice-selectable]",e):r.dropdown.querySelector("[data-choice-selectable]")}i&&((0,b.isScrolledIntoView)(i,r.choiceList,e)||r._scrollToChoice(i,e),r._highlightChoice(i)),o.preventDefault()}},h=function(){!t||o.target.value||r.isSelectOneElement||(r._handleBackspace(s),o.preventDefault())},u=(p(e={},65,function(){c&&i&&(r.canSearch=!1,r.config.removeItems&&!r.input.value&&r.input===document.activeElement&&r.highlightAll())}),p(e,13,function(){if(r.isTextElement&&n.value){var e=r.input.value,t=r._canAddItem(s,e);t.response&&(a&&r.hideDropdown(),r._addItem(e),r._triggerChange(e),r.clearInput())}if(n.hasAttribute("data-button")&&(r._handleButtonAction(s,n),o.preventDefault()),a){o.preventDefault();var i=r.dropdown.querySelector("."+r.config.classNames.highlightedState);i&&(s[0]&&(s[0].keyCode=13),r._handleChoiceAction(s,i))}else r.isSelectOneElement&&(a||(r.showDropdown(!0),o.preventDefault()))}),p(e,27,function(){a&&(r.toggleDropdown(),r.containerOuter.focus())}),p(e,38,d),p(e,33,d),p(e,40,d),p(e,34,d),p(e,8,h),p(e,46,h),e);u[o.keyCode]&&u[o.keyCode]()}}},{key:"_onKeyUp",value:function(e){if(e.target===this.input){var t=this.input.value,i=this.store.getItemsFilteredByActive(),n=this._canAddItem(i,t);if(this.isTextElement){var o=this.dropdown.classList.contains(this.config.classNames.activeState);if(t){if(n.notice){var r=this._getTemplate("notice",n.notice);this.dropdown.innerHTML=r.outerHTML}!0===n.response?o||this.showDropdown():!n.notice&&o&&this.hideDropdown()}else o&&this.hideDropdown()}else 46!==e.keyCode&&8!==e.keyCode||e.target.value?this.canSearch&&n.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,f.activateChoices)(!0)));this.canSearch=this.config.searchEnabled}}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,i=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():i||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t=e.target;if(t===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(t)&&t!==this.input){var i=void 0,n=this.store.getItemsFilteredByActive(),o=e.shiftKey;(i=(0,b.findAncestorByAttrName)(t,"data-button"))?this._handleButtonAction(n,i):(i=(0,b.findAncestorByAttrName)(t,"data-item"))?this._handleItemAction(n,i,o):(i=(0,b.findAncestorByAttrName)(t,"data-choice"))&&this._handleChoiceAction(n,i),e.preventDefault()}}},{key:"_onClick",value:function(e){var t=e.target,i=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.store.getItemsFilteredByActive();if(this.containerOuter.contains(t))t.hasAttribute("data-button")&&this._handleButtonAction(n,t),i?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus());else{var o=n.some(function(e){return e.highlighted});o&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),i&&this.hideDropdown()}}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)){var n=this.dropdown.classList.contains(this.config.classNames.activeState),o={text:function(){i===t.input&&t.containerOuter.classList.add(t.config.classNames.focusState)},"select-one":function(){t.containerOuter.classList.add(t.config.classNames.focusState),i===t.input&&(n||t.showDropdown())},"select-multiple":function(){i===t.input&&(t.containerOuter.classList.add(t.config.classNames.focusState),n||t.showDropdown(!0))}};o[this.passedElement.type]()}}},{key:"_onBlur",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)&&!this.isScrollingOnIe){var n=this.store.getItemsFilteredByActive(),o=this.dropdown.classList.contains(this.config.classNames.activeState),r=n.some(function(e){return e.highlighted}),s={text:function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),r&&t.unhighlightAll(),o&&t.hideDropdown())},"select-one":function(){t.containerOuter.classList.remove(t.config.classNames.focusState),i===t.containerOuter&&o&&!t.canSearch&&t.hideDropdown(),i===t.input&&o&&t.hideDropdown()},"select-multiple":function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),o&&t.hideDropdown(),r&&t.unhighlightAll())}};s[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:"_regexFilter",value:function(e){if(!e)return!1;var t=this.config.regexFilter,i=new RegExp(t.source,"i");return i.test(e)}},{key:"_scrollToChoice",value:function(e,r){var s=this;if(e){var t=this.choiceList.offsetHeight,i=e.offsetHeight,n=e.offsetTop+i,o=this.choiceList.scrollTop+t,a=0<r?this.choiceList.scrollTop+n-o:e.offsetTop;requestAnimationFrame(function(e){!function t(){var e=s.choiceList.scrollTop,i=!1,n=void 0,o=void 0;0<r?(o=1<(n=(a-e)/4)?n:1,s.choiceList.scrollTop=e+o,e<a&&(i=!0)):(o=1<(n=(e-a)/4)?n:1,s.choiceList.scrollTop=e-o,a<e&&(i=!0)),i&&requestAnimationFrame(function(e){t()})}()})}}},{key:"_highlightChoice",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),n=e;if(i&&i.length){var o=Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState));o.forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),n?this.highlightPosition=i.indexOf(n):(n=i.length>this.highlightPosition?i[this.highlightPosition]:i[i.length-1])||(n=i[0]),n.classList.add(this.config.classNames.highlightedState),n.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",n.id)}}},{key:"_addItem",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,a=(0,b.isType)("String",e)?e.trim():e,l=s,c=this.store.getItems(),d=t||a,h=parseInt(i,10)||-1,u=0<=n?this.store.getGroupById(n):null,p=c?c.length+1:1;return this.config.prependValue&&(a=this.config.prependValue+a.toString()),this.config.appendValue&&(a+=this.config.appendValue.toString()),this.store.dispatch((0,f.addItem)(a,d,p,h,n,o,r,l)),this.isSelectOneElement&&this.removeActiveItems(p),u&&u.value?(0,b.triggerEvent)(this.passedElement,"addItem",{id:p,value:a,label:d,groupValue:u.value,keyCode:l}):(0,b.triggerEvent)(this.passedElement,"addItem",{id:p,value:a,label:d,keyCode:l}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,b.isType)("Object",e))return this;var t=e.id,i=e.value,n=e.label,o=e.choiceId,r=e.groupId,s=0<=r?this.store.getGroupById(r):null;return this.store.dispatch((0,f.removeItem)(t,o)),s&&s.value?(0,b.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n,groupValue:s.value}):(0,b.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n}),this}},{key:"_addChoice",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,s=6<arguments.length&&void 0!==arguments[6]&&arguments[6],a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null;if(null!=e){var l=this.store.getChoices(),c=t||e,d=l?l.length+1:1,h=this.baseId+"-"+this.idNames.itemChoice+"-"+d;this.store.dispatch((0,f.addChoice)(e,c,d,o,n,h,r,s,a)),i&&this._addItem(e,c,d,void 0,r,s,a)}}},{key:"_clearChoices",value:function(){this.store.dispatch((0,f.clearChoices)())}},{key:"_addGroup",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"label",r=(0,b.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),s=t||Math.floor((new Date).valueOf()*Math.random()),a=!!e.disabled&&e.disabled;r?(this.store.dispatch((0,f.addGroup)(e.label,s,!0,a)),r.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;i._addChoice(e[n],(0,b.isType)("Object",e)?e[o]:e.innerHTML,e.selected,t,s,e.customProperties,e.placeholder)})):this.store.dispatch((0,f.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return t[e].apply(t,n)}},{key:"_createTemplates",value:function(){var o=this,r=this.config.classNames,e={containerOuter:function(e){return(0,b.strToEl)('\n          <div\n            class="'+r.containerOuter+'"\n            '+(o.isSelectElement?o.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+o.passedElement.type+'"\n            '+(o.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+e+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,b.strToEl)('\n          <div class="'+r.containerInner+'"></div>\n        ')},itemList:function(){var e,t=(0,a.default)(r.list,(p(e={},r.listSingle,o.isSelectOneElement),p(e,r.listItems,!o.isSelectOneElement),e));return(0,b.strToEl)('\n          <div class="'+t+'"></div>\n        ')},placeholder:function(e){return(0,b.strToEl)('\n          <div class="'+r.placeholder+'">\n            '+e+"\n          </div>\n        ")},item:function(e){var t,i,n=(0,a.default)(r.item,(p(t={},r.highlightedState,e.highlighted),p(t,r.itemSelectable,!e.highlighted),p(t,r.placeholder,e.placeholder),t));return o.config.removeItemButton?(n=(0,a.default)(r.item,(p(i={},r.highlightedState,e.highlighted),p(i,r.itemSelectable,!e.disabled),p(i,r.placeholder,e.placeholder),i)),(0,b.strToEl)('\n            <div\n              class="'+n+'"\n              data-item\n              data-id="'+e.id+'"\n              data-value="'+e.value+'"\n              data-deletable\n              '+(e.active?'aria-selected="true"':"")+"\n              "+(e.disabled?'aria-disabled="true"':"")+"\n              >\n              "+e.label+'\x3c!--\n           --\x3e<button\n                type="button"\n                class="'+r.button+'"\n                data-button\n                aria-label="Remove item: \''+e.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")):(0,b.strToEl)('\n          <div\n            class="'+n+'"\n            data-item\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            '+(e.active?'aria-selected="true"':"")+"\n            "+(e.disabled?'aria-disabled="true"':"")+"\n            >\n            "+e.label+"\n          </div>\n        ")},choiceList:function(){return(0,b.strToEl)('\n          <div\n            class="'+r.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(o.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(e){var t=(0,a.default)(r.group,p({},r.itemDisabled,e.disabled));return(0,b.strToEl)('\n          <div\n            class="'+t+'"\n            data-group\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            role="group"\n            '+(e.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+r.groupHeading+'">'+e.value+"</div>\n          </div>\n        ")},choice:function(e){var t,i=(0,a.default)(r.item,r.itemChoice,(p(t={},r.itemDisabled,e.disabled),p(t,r.itemSelectable,!e.disabled),p(t,r.placeholder,e.placeholder),t));return(0,b.strToEl)('\n          <div\n            class="'+i+'"\n            data-select-text="'+o.config.itemSelectText+'"\n            data-choice\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            '+(e.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+e.elementId+'"\n            '+(0<e.groupId?'role="treeitem"':'role="option"')+"\n            >\n            "+e.label+"\n          </div>\n        ")},input:function(){var e=(0,a.default)(r.input,r.inputCloned);return(0,b.strToEl)('\n          <input\n            type="text"\n            class="'+e+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var e=(0,a.default)(r.list,r.listDropdown);return(0,b.strToEl)('\n          <div\n            class="'+e+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=(0,a.default)(r.item,r.itemChoice,(p(t={},r.noResults,"no-results"===i),p(t,r.noChoices,"no-choices"===i),t));return(0,b.strToEl)('\n          <div class="'+n+'">\n            '+e+"\n          </div>\n        ")},option:function(e){return(0,b.strToEl)('\n          <option value="'+e.value+'" selected>'+e.label+"</option>\n        ")}},t=this.config.callbackOnCreateTemplates,i={};t&&(0,b.isType)("Function",t)&&(i=t.call(this,b.strToEl)),this.config.templates=(0,b.extend)(e,i)}},{key:"_setLoading",value:function(e){this.store.dispatch((0,f.setIsLoading)(e))}},{key:"_createInput",value:function(){var n=this,e=this.passedElement.getAttribute("dir")||"ltr",t=this._getTemplate("containerOuter",e),i=this._getTemplate("containerInner"),o=this._getTemplate("itemList"),r=this._getTemplate("choiceList"),s=this._getTemplate("input"),a=this._getTemplate("dropdown");this.containerOuter=t,this.containerInner=i,this.input=s,this.choiceList=r,this.itemList=o,this.dropdown=a,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var l=this.passedElement.getAttribute("style");if(Boolean(l)&&this.passedElement.setAttribute("data-choice-orig-style",l),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,b.wrap)(this.passedElement,i),(0,b.wrap)(i,t),this.isSelectOneElement?s.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(s.placeholder=this.placeholder,s.style.width=(0,b.getWidthOfInput)(s)),this.config.addItems||this.disable(),t.appendChild(i),t.appendChild(a),i.appendChild(o),this.isTextElement||a.appendChild(r),this.isSelectMultipleElement||this.isTextElement?i.appendChild(s):this.canSearch&&a.insertBefore(s,a.firstChild),this.isSelectElement){var c=Array.from(this.passedElement.getElementsByTagName("OPTGROUP"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),c&&c.length)c.forEach(function(e){n._addGroup(e,e.id||null)});else{var d=Array.from(this.passedElement.options),h=this.config.sortFilter,u=this.presetChoices;d.forEach(function(e){u.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder")})}),this.config.shouldSort&&u.sort(h);var p=u.some(function(e){return e.selected});u.forEach(function(e,t){if(n.isSelectOneElement){var i=p||!p&&0<t;n._addChoice(e.value,e.label,!i||e.selected,!!i&&e.disabled,void 0,e.customProperties,e.placeholder)}else n._addChoice(e.value,e.label,e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(e){var t=(0,b.getType)(e);if("Object"===t){if(!e.value)return;n._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder)}else"String"===t&&n._addItem(e)})}}]),l}();e.exports=h},function(o,e,t){!function(e){"use strict";function C(){console.log.apply(console,arguments)}function t(e,t){var i;for(i in this.list=e,this.options=t=t||{},n)n.hasOwnProperty(i)&&("boolean"==typeof n[i]?this.options[i]=i in t?t[i]:n[i]:this.options[i]=t[i]||n[i])}function k(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){t=t||{},this.options=t,this.options.location=t.location||i.defaultOptions.location,this.options.distance="distance"in t?t.distance:i.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:i.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||i.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var n={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:i,sortFn:function(e,t){return e.score-t.score},getFn:function e(t,i,n){var o,r,s,a,l,c;if(i){if(-1!==(s=i.indexOf("."))?(o=i.slice(0,s),r=i.slice(s+1)):o=i,null!=(a=t[o]))if(r||"string"!=typeof a&&"number"!=typeof a)if(k(a))for(l=0,c=a.length;l<c;l++)e(a[l],r,n);else r&&e(a,r,n);else n.push(a)}else n.push(t);return n},keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};t.VERSION="2.7.3",t.prototype.set=function(e){return this.list=e},t.prototype.search=function(e){this.options.verbose&&C("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var t=this._format();return t},t.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,i=e.searchFn,n=t.split(e.tokenSeparator),o=0,r=n.length;if(this.options.tokenize)for(this.tokenSearchers=[];o<r;o++)this.tokenSearchers.push(new i(n[o],e));this.fullSeacher=new i(t,e)},t.prototype._startSearch=function(){var e,t,i,n,o=this.options,r=o.getFn,s=this.list,a=s.length,l=this.options.keys,c=l.length,d=null;if("string"==typeof s[0])for(i=0;i<a;i++)this._analyze("",s[i],i,i);else for(this._keyMap={},i=0;i<a;i++)for(d=s[i],n=0;n<c;n++){if("string"!=typeof(e=l[n])){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||1<e.weight)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,r(d,e,[]),d,i)}},t.prototype._analyze=function(e,t,i,n){var o,r,s,a,l,c,d,h,u,p,f,m,v,g,y,b=this.options,_=!1;if(null!=t){r=[];var w=0;if("string"==typeof t){if(o=t.split(b.tokenSeparator),b.verbose&&C("---------\nKey:",e),this.options.tokenize){for(g=0;g<this.tokenSearchers.length;g++){for(h=this.tokenSearchers[g],b.verbose&&C("Pattern:",h.pattern),m=!(u=[]),y=0;y<o.length;y++){p=o[y],f=h.search(p);var x={};f.isMatch?(x[p]=f.score,m=_=!0,r.push(f.score)):(x[p]=1,this.options.matchAllTokens||r.push(1)),u.push(x)}m&&w++,b.verbose&&C("Token scores:",u)}for(a=r[0],c=r.length,g=1;g<c;g++)a+=r[g];a/=c,b.verbose&&C("Token score average:",a)}d=this.fullSeacher.search(t),b.verbose&&C("Full text score:",d.score),l=d.score,void 0!==a&&(l=(l+a)/2),b.verbose&&C("Score average:",l),v=!this.options.tokenize||!this.options.matchAllTokens||w>=this.tokenSearchers.length,b.verbose&&C("Check Matches",v),(_||d.isMatch)&&v&&((s=this.resultMap[n])?s.output.push({key:e,score:l,matchedIndices:d.matchedIndices}):(this.resultMap[n]={item:i,output:[{key:e,score:l,matchedIndices:d.matchedIndices}]},this.results.push(this.resultMap[n])))}else if(k(t))for(g=0;g<t.length;g++)this._analyze(e,t[g],i,n)}},t.prototype._computeScore=function(){var e,t,i,n,o,r,s,a,l,c=this._keyMap,d=this.results;for(this.options.verbose&&C("\n\nComputing score:\n"),e=0;e<d.length;e++){for(i=0,n=d[e].output,o=n.length,a=1,t=0;t<o;t++)r=n[t].score,s=c?c[n[t].key].weight:1,l=r*s,1!==s?a=Math.min(a,l):(i+=l,n[t].nScore=l);d[e].score=1===a?i/o:a,this.options.verbose&&C(d[e])}},t.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&C("\n\nSorting...."),this.results.sort(e.sortFn))},t.prototype._format=function(){var e,t,i,n,o=this.options,r=o.getFn,s=[],a=this.results,l=o.include;for(o.verbose&&C("\n\nOutput:\n\n",a),i=o.id?function(e){a[e].item=r(a[e].item,o.id,[])[0]}:function(){},n=function(e){var t,i,n,o,r,s=a[e];if(0<l.length){if(t={item:s.item},-1!==l.indexOf("matches"))for(n=s.output,t.matches=[],i=0;i<n.length;i++)o=n[i],r={indices:o.matchedIndices},o.key&&(r.key=o.key),t.matches.push(r);-1!==l.indexOf("score")&&(t.score=a[e].score)}else t=s.item;return t},e=0,t=a.length;e<t;e++)i(e),s.push(n(e));return s},i.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},i.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},i.prototype._bitapScore=function(e,t){var i=e/this.patternLen,n=Math.abs(this.options.location-t);return this.options.distance?i+n/this.options.distance:n?1:i},i.prototype.search=function(e){var t,i,n,o,r,s,a,l,c,d,h,u,p,f,m,v,g,y,b,_,w,x,C,k=this.options;if(e=k.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>k.maxPatternLength){if(y=e.match(new RegExp(this.pattern.replace(k.tokenSeparator,"|"))),b=!!y)for(w=[],t=0,x=y.length;t<x;t++)C=y[t],w.push([e.indexOf(C),C.length-1]);return{isMatch:b,score:b?.5:1,matchedIndices:w}}for(o=k.findAllMatches,r=k.location,n=e.length,s=k.threshold,a=e.indexOf(this.pattern,r),_=[],t=0;t<n;t++)_[t]=0;for(-1!=a&&(s=Math.min(this._bitapScore(0,a),s),-1!=(a=e.lastIndexOf(this.pattern,r+this.patternLen))&&(s=Math.min(this._bitapScore(0,a),s))),a=-1,v=1,g=[],d=this.patternLen+n,t=0;t<this.patternLen;t++){for(l=0,c=d;l<c;)this._bitapScore(t,r+c)<=s?l=c:d=c,c=Math.floor((d-l)/2+l);for(d=c,h=Math.max(1,r-c+1),u=o?n:Math.min(r+c,n)+this.patternLen,(p=Array(u+2))[u+1]=(1<<t)-1,i=u;h<=i;i--)if((m=this.patternAlphabet[e.charAt(i-1)])&&(_[i-1]=1),p[i]=(p[i+1]<<1|1)&m,0!==t&&(p[i]|=(f[i+1]|f[i])<<1|1|f[i+1]),p[i]&this.matchmask&&(v=this._bitapScore(t,i-1))<=s){if(s=v,a=i-1,g.push(a),a<=r)break;h=Math.max(1,2*r-a)}if(this._bitapScore(t+1,r)>s)break;f=p}return w=this._getMatchedIndices(_),{isMatch:0<=a,score:0===v?.001:v,matchedIndices:w}},i.prototype._getMatchedIndices=function(e){for(var t,i=[],n=-1,o=-1,r=0,s=e.length;r<s;r++)(t=e[r])&&-1===n?n=r:t||-1===n||((o=r-1)-n+1>=this.options.minMatchCharLength&&i.push([n,o]),n=-1);return e[r-1]&&r-1-n+1>=this.options.minMatchCharLength&&i.push([n,r-1]),i},o.exports=t}()},function(e,t,i){var n;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var n=typeof i;if("string"===n||"number"===n)e.push(i);else if(Array.isArray(i))e.push(r.apply(null,i));else if("object"===n)for(var o in i)s.call(i,o)&&i[o]&&e.push(o)}}return e.join(" ")}var s={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=r:void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=i(5),s=i(26),a=(n=s)&&n.__esModule?n:{default:n},l=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.store=(0,r.createStore)(a.default,window.devToolsExtension?window.devToolsExtension():void 0)}return o(e,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"isLoading",value:function(){var e=this.store.getState();return e.general.loading}},{key:"getItems",value:function(){var e=this.store.getState();return e.items}},{key:"getItemsFilteredByActive",value:function(){var e=this.getItems(),t=e.filter(function(e){return!0===e.active},[]);return t}},{key:"getItemsReducedToValues",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getItems(),t=e.reduce(function(e,t){return e.push(t.value),e},[]);return t}},{key:"getChoices",value:function(){var e=this.store.getState();return e.choices}},{key:"getChoicesFilteredByActive",value:function(){var e=this.getChoices(),t=e.filter(function(e){return!0===e.active});return t}},{key:"getChoicesFilteredBySelectable",value:function(){var e=this.getChoices(),t=e.filter(function(e){return!0!==e.disabled});return t}},{key:"getSearchableChoices",value:function(){var e=this.getChoicesFilteredBySelectable();return e.filter(function(e){return!0!==e.placeholder})}},{key:"getChoiceById",value:function(t){if(t){var e=this.getChoicesFilteredByActive(),i=e.find(function(e){return e.id===parseInt(t,10)});return i}return!1}},{key:"getGroups",value:function(){var e=this.store.getState();return e.groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),n=this.getChoices(),t=e.filter(function(e){var t=!0===e.active&&!1===e.disabled,i=n.some(function(e){return!0===e.active&&!1===e.disabled});return t&&i},[]);return t}},{key:"getGroupById",value:function(t){var e=this.getGroups(),i=e.find(function(e){return e.id===t});return i}},{key:"getPlaceholderChoice",value:function(){var e=this.getChoices(),t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e)).reverse().find(function(e){return!0===e.placeholder});return t}}]),e}();t.default=l,e.exports=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=i(6),r=n(o),s=i(21),a=n(s),l=i(23),c=n(l),d=i(24),h=n(d),u=i(25),p=n(u),f=i(22);n(f),t.createStore=r.default,t.combineReducers=a.default,t.bindActionCreators=c.default,t.applyMiddleware=h.default,t.compose=p.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,i,n){function o(){f===p&&(f=p.slice())}function r(){return u}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var i=!0;return o(),f.push(t),function(){if(i){i=!1,o();var e=f.indexOf(t);f.splice(e,1)}}}function a(e){if(!(0,v.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,u=h(u,e)}finally{m=!1}for(var t=p=f,i=0;i<t.length;i++){var n=t[i];n()}return e}function l(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,a({type:y.INIT})}function c(){var e,n=s;return(e={subscribe:function(e){function t(){e.next&&e.next(r())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");t();var i=n(t);return{unsubscribe:i}}})[g.default]=function(){return this},e}var d;if("function"==typeof i&&void 0===n&&(n=i,i=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(e)(t,i)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,u=i,p=[],f=p,m=!1;return a({type:y.INIT}),(d={dispatch:a,subscribe:s,getState:r,replaceReducer:l})[g.default]=c,d};var o=i(7),v=n(o),r=i(17),g=n(r),y=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,i){var n=i(8),o=i(14),r=i(16),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var i=c.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==d}},function(e,t,i){var n=i(9),o=i(12),r=i(13),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},function(e,t,i){var n=i(10),o=n.Symbol;e.exports=o},function(e,t,i){var n=i(11),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},function(i,e){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;i.exports=t}).call(e,function(){return this}())},function(e,t,i){var n=i(9),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),i=e[a];try{var n=!(e[a]=void 0)}catch(e){}var o=s.call(e);return n&&(t?e[a]=i:delete e[a]),o}},function(e,t){var i=Object.prototype,n=i.toString;e.exports=function(e){return n.call(e)}},function(e,t,i){var n=i(15),o=n(Object.getPrototypeOf,Object);e.exports=o},function(e,t){e.exports=function(t,i){return function(e){return t(i(e))}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,i){e.exports=i(18)},function(e,a,l){(function(e,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n,o=l(20),r=(n=o)&&n.__esModule?n:{default:n};i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var s=(0,r.default)(i);a.default=s}).call(a,function(){return this}(),l(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,i=e.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),p={},i=0;i<t.length;i++){var n=t[i];"function"==typeof e[n]&&(p[n]=e[n])}var o,f=Object.keys(p),m=void 0;try{o=p,Object.keys(o).forEach(function(e){var t=o[e],i=t(void 0,{type:r.ActionTypes.INIT});if(void 0===i)throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var n="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===t(void 0,{type:n}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(e){m=e}return function(){var e,t,i,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];if(m)throw m;for(var r=!1,s={},a=0;a<f.length;a++){var l=f[a],c=p[l],d=n[l],h=c(d,o);if(void 0===h){var u=(e=l,i=void 0,"Given action "+((i=(t=t=o)&&t.type)&&'"'+i.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(u)}s[l]=h,r=r||h!==d}return r?s:n}};var r=i(6),o=i(7),s=(n(o),i(22));n(s)},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t){"use strict";function a(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return a(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(e),n={},o=0;o<i.length;o++){var r=i[o],s=e[r];"function"==typeof s&&(n[r]=a(s,t))}return n}},function(e,t,i){"use strict";t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return function(a){return function(e,t,i){var n=a(e,t,i),o=n.dispatch,r=[],s={getState:n.getState,dispatch:function(e){return o(e)}};return r=l.map(function(e){return e(s)}),o=d.default.apply(void 0,r)(n.dispatch),c({},n,{dispatch:o})}}};var n,o=i(25),d=(n=o)&&n.__esModule?n:{default:n}},function(e,t){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(5),r=i(27),s=n(r),a=i(28),l=n(a),c=i(29),d=n(c),h=i(30),u=n(h),p=(0,o.combineReducers)({items:s.default,groups:l.default,choices:d.default,general:u.default});t.default=function(e,t){var i=e;return"CLEAR_ALL"===t.type&&(i=void 0),p(i,t)}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":var i=[].concat(n(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);return i.map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}}},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(i(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}}},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(r(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var i=e;return t.activateOptions&&(i=e.map(function(e){return e.active=t.active,e})),-1<t.choiceId&&(i=e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e})),i;case"REMOVE_ITEM":return-1<t.choiceId?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var n=t.results,o=e.map(function(t){return t.active=n.some(function(e){return e.item.id===t.id&&(t.score=e.score,!0)}),t});return o;case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];switch(t.type){case"LOADING":return{loading:t.isLoading};default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addItem=function(e,t,i,n,o,r,s,a){return{type:"ADD_ITEM",value:e,label:t,id:i,choiceId:n,groupId:o,customProperties:r,placeholder:s,keyCode:a}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,i,n,o,r,s,a,l){return{type:"ADD_CHOICE",value:e,label:t,id:i,groupId:n,disabled:o,elementId:r,customProperties:s,placeholder:a,keyCode:l}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return{type:"ACTIVATE_CHOICES",active:e}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,i,n){return{type:"ADD_GROUP",value:e,id:t,active:i,disabled:n}},t.clearAll=function(){return{type:"CLEAR_ALL"}},t.setIsLoading=function(e){return{type:"LOADING",isLoading:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(t.capitalise=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",i=0;i<e;i++){var n=l(0,36);t+=n.toString(36)}return t}),r=(t.generateId=function(e,t){var i=e.id||e.name&&e.name+"-"+o(2)||o(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i=t+i},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),s=t.isType=function(e,t){var i=r(t);return null!=t&&i===e},a=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":i(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":i(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":i(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function i(){for(var n={},e=arguments.length,t=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s("Object",e[t])?n[t]=i(!0,n[t],e[t]):n[t]=e[t])},o=0;o<e;o++){var r=arguments[o];s("Object",r)&&t(r)}return n},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}),l=(t.getParentsUntil=function(e,t,i){for(var n=[];e&&e!==document;e=e.parentNode){if(t){var o=t.charAt(0);if("."===o&&e.classList.contains(t.substr(1)))break;if("#"===o&&e.id===t.substr(1))break;if("["===o&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}if(i){var r=i.charAt(0);"."===r&&e.classList.contains(i.substr(1))&&n.push(e),"#"===r&&e.id===i.substr(1)&&n.push(e),"["===r&&e.hasAttribute(i.substr(1,i.length-1))&&n.push(e),e.tagName.toLowerCase()===i&&n.push(e)}else n.push(e)}return 0===n.length?null:n},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null},t.debounce=function(n,o,r){var s;return function(){var e=this,t=arguments,i=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||n.apply(e,t)},o),i&&n.apply(e,t)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)for(;t+=e.offsetTop,e=e.offsetParent;);return 0<=t?t:0},t.getElementOffset=function(e,t){var i=t;return 1<i&&(i=1),0<i&&(i=0),Math.max(e.offsetHeight*i)},t.getAdjacentEl=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var n=e.parentNode.parentNode,o=Array.from(n.querySelectorAll(t)),r=o.indexOf(e),s=0<i?1:-1;return o[r+s]}},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,i){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,i)},t.isScrolledIntoView=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e)return 0<i?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop},t.stripHTML=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},t.addAnimation=function(t,i){var n=a();t.classList.add(i),t.addEventListener(n,function e(){t.classList.remove(i),t.removeEventListener(n,e,!1)},!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),c=t.strToEl=(n=document.createElement("div"),function(e){var t=e.trim(),i=void 0;for(n.innerHTML=t,i=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return i});t.getWidthOfInput=function(e){var t=e.value||e.placeholder,i=e.offsetWidth;if(t){var n=c("<span>"+t+"</span>");if(n.style.position="absolute",n.style.padding="0",n.style.top="-9999px",n.style.left="-9999px",n.style.width="auto",n.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle){var o=window.getComputedStyle(e);o&&(n.style.fontSize=o.fontSize,n.style.fontFamily=o.fontFamily,n.style.fontWeight=o.fontWeight,n.style.fontStyle=o.fontStyle,n.style.letterSpacing=o.letterSpacing,n.style.textTransform=o.textTransform,n.style.padding=o.padding)}document.body.appendChild(n),t&&n.offsetWidth!==e.offsetWidth&&(i=n.offsetWidth+4),document.body.removeChild(n)}return i+"px"},t.sortByAlpha=function(e,t){var i=(e.label||e.value).toLowerCase(),n=(t.label||t.value).toLowerCase();return i<n?-1:n<i?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0});return e.dispatchEvent(n)}},function(e,t){"use strict";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var t,l,n,c;Array.from||(Array.from=(t=Object.prototype.toString,l=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=Math.pow(2,53)-1,c=function(e){var t,i=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(i,0),n)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!l(n))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var o,r=c(t.length),s=l(this)?Object(new this(r)):new Array(r),a=0;a<r;)o=t[a],s[a]=n?void 0===i?n(o,a):n.call(i,o,a):o,a+=1;return s.length=r,s})),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(t=i[r],e.call(o,t,r,i))return t}),e.prototype=window.Event.prototype,window.CustomEvent=e}()}])}(this),function(e,t){e.tippy=function(){"use strict";for(var W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},R={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},arrow:!1,arrowTransform:"",arrowType:"sharp",content:"",delay:[0,20],distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",followCursor:!1,hideOnClick:!0,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,livePlacement:!0,maxWidth:"",multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},performance:!1,placement:"top",popperOptions:{},shouldPopperHideOnBlur:function(){return!0},showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",updateDuration:200,wait:null,zIndex:9999},Y=["arrowType","distance","flip","flipBehavior","offset","placement","popperOptions"],t="undefined"!=typeof window,e=t?navigator:{},i=t?window:{},n=("MutationObserver"in i),X=/MSIE |Trident\//.test(e.userAgent),o=/iPhone|iPad|iPod/.test(e.platform)&&!i.MSStream,V=("ontouchstart"in i),r="undefined"!=typeof window&&"undefined"!=typeof document,s=["Edge","Trident","Firefox"],a=0,l=0;l<s.length;l+=1)if(r&&0<=navigator.userAgent.indexOf(s[l])){a=1;break}var c=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},a))}};function d(e){return e&&"[object Function]"==={}.toString.call(e)}function _(e,t){if(1!==e.nodeType)return[];var i=e.ownerDocument.defaultView,n=i.getComputedStyle(e,null);return t?n[t]:n}function p(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function f(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=_(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(i+o+n)?e:f(p(e))}var h=r&&!(!window.MSInputMethodContext||!document.documentMode),u=r&&/MSIE 10/.test(navigator.userAgent);function m(e){return 11===e?h:10===e?u:h||u}function N(e){if(!e)return document.documentElement;for(var t=m(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===_(i,"position")?N(i):i:e?e.ownerDocument.documentElement:document.documentElement}function v(e){return null!==e.parentNode?v(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,o=i?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(o,0);var s,a,l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(o))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&N(s.firstElementChild)!==s?N(l):l;var c=v(e);return c.host?g(c.host,t):g(e,v(t).host)}function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",i="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"!==n&&"HTML"!==n)return e[i];var o=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||o;return r[i]}function b(e,t){var i="x"===t?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function w(e,t,i,n){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],m(10)?parseInt(i["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function x(e){var t=e.body,i=e.documentElement,n=m(10)&&getComputedStyle(i);return{height:w("Height",t,i,n),width:w("Width",t,i,n)}}var C=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),k=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function E(e){return H({},e,{right:e.left+e.width,bottom:e.top+e.height})}function D(e){var t={};try{if(m(10)){t=e.getBoundingClientRect();var i=y(e,"top"),n=y(e,"left");t.top+=i,t.left+=n,t.bottom+=i,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?x(e.ownerDocument):{},s=r.width||e.clientWidth||o.right-o.left,a=r.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var d=_(e);l-=b(d,"x"),c-=b(d,"y"),o.width-=l,o.height-=c}return E(o)}function S(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=m(10),o="HTML"===t.nodeName,r=D(e),s=D(t),a=f(e),l=_(t),c=parseFloat(l.borderTopWidth,10),d=parseFloat(l.borderLeftWidth,10);i&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=E({top:r.top-s.top-c,left:r.left-s.left-d,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!n&&o){var u=parseFloat(l.marginTop,10),p=parseFloat(l.marginLeft,10);h.top-=c-u,h.bottom-=c-u,h.left-=d-p,h.right-=d-p,h.marginTop=u,h.marginLeft=p}return(n&&!i?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=y(t,"top"),o=y(t,"left"),r=i?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=o*r,e.right+=o*r,e}(h,t)),h}function T(e){if(!e||!e.parentElement||m())return document.documentElement;for(var t=e.parentElement;t&&"none"===_(t,"transform");)t=t.parentElement;return t||document.documentElement}function I(e,t,i,n){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=o?T(e):g(e,t);if("viewport"===n)r=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,n=S(e,i),o=Math.max(i.clientWidth,window.innerWidth||0),r=Math.max(i.clientHeight,window.innerHeight||0),s=t?0:y(i),a=t?0:y(i,"left");return E({top:s-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:o,height:r})}(s,o);else{var a=void 0;"scrollParent"===n?"BODY"===(a=f(p(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===n?e.ownerDocument.documentElement:n;var l=S(a,s,o);if("HTML"!==a.nodeName||function e(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===_(t,"position"))return!0;return e(p(t))}(s))r=l;else{var c=x(e.ownerDocument),d=c.height,h=c.width;r.top+=l.top-l.marginTop,r.bottom=d+l.top,r.left+=l.left-l.marginLeft,r.right=h+l.left}}var u="number"==typeof(i=i||0);return r.left+=u?i:i.left||0,r.top+=u?i:i.top||0,r.right-=u?i:i.right||0,r.bottom-=u?i:i.bottom||0,r}function O(e,t,n,i,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=I(n,i,r,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(e){return H({key:e},a[e],{area:(t=a[e],i=t.width,n=t.height,i*n)});var t,i,n}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),d=0<c.length?c[0].key:l[0].key,h=e.split("-")[1];return d+(h?"-"+h:"")}function A(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=n?T(t):g(t,i);return S(i,o,n)}function L(e){var t=e.ownerDocument.defaultView,i=t.getComputedStyle(e),n=parseFloat(i.marginTop||0)+parseFloat(i.marginBottom||0),o=parseFloat(i.marginLeft||0)+parseFloat(i.marginRight||0),r={width:e.offsetWidth+o,height:e.offsetHeight+n};return r}function M(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function P(e,t,i){i=i.split("-")[0];var n=L(e),o={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[s]=t[s]+t[l]/2-n[l]/2,o[a]=i===a?t[a]-n[c]:t[M(a)],o}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,i,t){var n=void 0===t?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var n=F(e,function(e){return e[t]===i});return e.indexOf(n)}(e,"name",t));return n.forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&d(t)&&(i.offsets.popper=E(i.offsets.popper),i.offsets.reference=E(i.offsets.reference),i=t(i,e))}),i}function B(e,n){return e.some(function(e){var t=e.name,i=e.enabled;return i&&t===n})}function z(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],r=o?""+o+i:e;if(void 0!==document.body.style[r])return r}return null}function $(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,i,n){i.updateBound=n,$(e).addEventListener("resize",i.updateBound,{passive:!0});var o=f(e);return function e(t,i,n,o){var r="BODY"===t.nodeName;var s=r?t.ownerDocument.defaultView:t;s.addEventListener(i,n,{passive:!0});r||e(f(s.parentNode),i,n,o);o.push(s)}(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function U(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,$(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function G(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(i,n){Object.keys(n).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&G(n[e])&&(t="px"),i.style[e]=n[e]+t})}var Q=r&&/Firefox/i.test(navigator.userAgent);function J(e,i,t){var n=F(e,function(e){var t=e.name;return t===i}),o=!!n&&e.some(function(e){return e.name===t&&e.enabled&&e.order<n.order});if(!o){var r="`"+i+"`",s="`"+t+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function Z(e){return"end"===e?"start":"start"===e?"end":e}var ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3);function ie(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=te.indexOf(e),n=te.slice(i+1).concat(te.slice(0,i));return t?n.reverse():n}var ne={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function oe(e,o,r,t){var s=[0,0],a=-1!==["right","left"].indexOf(t),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),n=i.indexOf(F(i,function(e){return-1!==e.search(/,|\s/)}));i[n]&&-1===i[n].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==n?[i.slice(0,n).concat([i[n].split(l)[0]]),[i[n].split(l)[1]].concat(i.slice(n+1))]:[i];return(c=c.map(function(e,t){var i=(1===t?!a:a)?"height":"width",n=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,n=!0,e):n?(e[e.length-1]+=t,n=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return e;{if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=i;break;case"%":case"%r":default:a=n}var l=E(a);return l[t]/100*r}if("vh"!==s&&"vw"!==s)return r;return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}}(e,i,o,r)})})).forEach(function(i,n){i.forEach(function(e,t){G(e)&&(s[n]+=e*("-"===i[t-1]?-1:1))})}),s}var re={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",c=a?"width":"height",d={start:k({},l,r[l]),end:k({},l,r[l]+r[c]-s[c])};e.offsets.popper=H({},s,d[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,n=e.placement,o=e.offsets,r=o.popper,s=o.reference,a=n.split("-")[0],l=void 0;l=G(+i)?[+i,0]:oe(i,r,s,a);"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]);return e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,n){var t=n.boundariesElement||N(e.instance.popper);e.instance.reference===t&&(t=N(t));var i=z("transform"),o=e.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var l=I(e.instance.popper,e.instance.reference,n.padding,t,e.positionFixed);o.top=r,o.left=s,o[i]=a,n.boundaries=l;var c=n.priority,d=e.offsets.popper,h={primary:function(e){var t=d[e];return d[e]<l[e]&&!n.escapeWithReference&&(t=Math.max(d[e],l[e])),k({},e,t)},secondary:function(e){var t="right"===e?"left":"top",i=d[t];return d[e]>l[e]&&!n.escapeWithReference&&(i=Math.min(d[t],l[e]-("right"===e?d.width:d.height))),k({},t,i)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=H({},d,h[t](e))}),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,n=t.reference,o=e.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";i[a]<r(n[l])&&(e.offsets.popper[l]=r(n[l])-i[c]);i[l]>r(n[a])&&(e.offsets.popper[l]=r(n[a]));return e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],r=e.offsets,s=r.popper,a=r.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",d=l?"Top":"Left",h=d.toLowerCase(),u=l?"left":"top",p=l?"bottom":"right",f=L(n)[c];a[p]-f<s[h]&&(e.offsets.popper[h]-=s[h]-(a[p]-f));a[h]+f>s[p]&&(e.offsets.popper[h]+=a[h]+f-s[p]);e.offsets.popper=E(e.offsets.popper);var m=a[h]+a[c]/2-f/2,v=_(e.instance.popper),g=parseFloat(v["margin"+d],10),y=parseFloat(v["border"+d+"Width"],10),b=m-e.offsets.popper[h]-g-y;return b=Math.max(Math.min(s[c]-f,b),0),e.arrowElement=n,e.offsets.arrow=(k(i={},h,Math.round(b)),k(i,u,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(p,f){if(B(p.instance.modifiers,"inner"))return p;if(p.flipped&&p.placement===p.originalPlacement)return p;var m=I(p.instance.popper,p.instance.reference,f.padding,f.boundariesElement,p.positionFixed),v=p.placement.split("-")[0],g=M(v),y=p.placement.split("-")[1]||"",b=[];switch(f.behavior){case ne.FLIP:b=[v,g];break;case ne.CLOCKWISE:b=ie(v);break;case ne.COUNTERCLOCKWISE:b=ie(v,!0);break;default:b=f.behavior}return b.forEach(function(e,t){if(v!==e||b.length===t+1)return p;v=p.placement.split("-")[0],g=M(v);var i=p.offsets.popper,n=p.offsets.reference,o=Math.floor,r="left"===v&&o(i.right)>o(n.left)||"right"===v&&o(i.left)<o(n.right)||"top"===v&&o(i.bottom)>o(n.top)||"bottom"===v&&o(i.top)<o(n.bottom),s=o(i.left)<o(m.left),a=o(i.right)>o(m.right),l=o(i.top)<o(m.top),c=o(i.bottom)>o(m.bottom),d="left"===v&&s||"right"===v&&a||"top"===v&&l||"bottom"===v&&c,h=-1!==["top","bottom"].indexOf(v),u=!!f.flipVariations&&(h&&"start"===y&&s||h&&"end"===y&&a||!h&&"start"===y&&l||!h&&"end"===y&&c);(r||d||u)&&(p.flipped=!0,(r||d)&&(v=b[t+1]),u&&(y=Z(y)),p.placement=v+(y?"-"+y:""),p.offsets.popper=H({},p.offsets.popper,P(p.instance.popper,p.offsets.reference,p.placement)),p=j(p.instance.modifiers,p,"flip"))}),p},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,o=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return o[s?"left":"top"]=r[i]-(a?o[s?"width":"height"]:0),e.placement=M(t),e.offsets.popper=E(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=F(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,o=e.offsets.popper,r=F(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:t.gpuAcceleration,a=N(e.instance.popper),l=D(a),c={position:o.position},d=(v=e,g=window.devicePixelRatio<2||!Q,y=v.offsets,b=y.popper,_=y.reference,w=Math.round,x=Math.floor,C=function(e){return e},k=w(b.width),E=w(_.width),S=-1!==["left","right"].indexOf(v.placement),T=-1!==v.placement.indexOf("-"),I=E%2==k%2,O=g?S||T||I?w:x:C,A=g?w:C,{left:O(E%2==1&&k%2==1&&!T&&g?b.left-1:b.left),top:A(b.top),bottom:A(b.bottom),right:O(b.right)}),h="bottom"===i?"top":"bottom",u="right"===n?"left":"right",p=z("transform"),f=void 0,m=void 0;var v,g,y,b,_,w,x,C,k,E,S,T,I,O,A;m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+d.bottom:-l.height+d.bottom:d.top;f="right"===u?"HTML"===a.nodeName?-a.clientWidth+d.right:-l.width+d.right:d.left;if(s&&p)c[p]="translate3d("+f+"px, "+m+"px, 0)",c[h]=0,c[u]=0,c.willChange="transform";else{var L="bottom"===h?-1:1,M="right"===u?-1:1;c[h]=m*L,c[u]=f*M,c.willChange=h+", "+u}var P={"x-placement":e.placement};return e.attributes=H({},P,e.attributes),e.styles=H({},c,e.styles),e.arrowStyles=H({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){K(e.instance.popper,e.styles),i=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){var t=n[e];!1!==t?i.setAttribute(e,n[e]):i.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles);var i,n;return e},onLoad:function(e,t,i,n,o){var r=A(o,t,e,i.positionFixed),s=O(i.placement,r,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",s),K(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},se=function(){function r(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=c(this.update.bind(this)),this.options=H({},r.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(H({},r.Defaults.modifiers,n.modifiers)).forEach(function(e){i.options.modifiers[e]=H({},r.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return H({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&d(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return C(r,[{key:"update",value:function(){return function(){if(this.state.isDestroyed)return;var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}.call(this)}},{key:"destroy",value:function(){return function(){this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[z("transform")]="");this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),r}();se.Utils=("undefined"!=typeof window?window:global).PopperUtils,se.placements=ee,se.Defaults=re;var ae={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow"},le={x:!0},ce=function(e){return[].slice.call(e)},de=function(e,t){t.content instanceof Element?(ve(e,""),e.appendChild(t.content)):e[t.allowHTML?"innerHTML":"textContent"]=t.content},he=function(e){return!(e instanceof Element)||Ee.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")},ue=function(e,t){e.filter(Boolean).forEach(function(e){e.style.transitionDuration=t+"ms"})},pe=function(t){var e=function(e){return t.querySelector(e)};return{tooltip:e(ae.TOOLTIP),backdrop:e(ae.BACKDROP),content:e(ae.CONTENT),arrow:e(ae.ARROW)||e(ae.ROUND_ARROW)}},fe=function(e){return"[object Object]"==={}.toString.call(e)},me=function(){return document.createElement("div")},ve=function(e,t){e[le.x&&"innerHTML"]=t instanceof Element?t[le.x&&"innerHTML"]:t},ge=function(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?i:n}return e},ye=function(e){var t=me();return"round"===e?(t.className="tippy-roundarrow",ve(t,'<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>')):t.className="tippy-arrow",t},be=function(){var e=me();return e.className="tippy-backdrop",e.setAttribute("data-state","hidden"),e},_e=function(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")},we=function(e,t){var i=me();i.className="tippy-popper",i.setAttribute("role","tooltip"),i.id="tippy-"+e,i.style.zIndex=t.zIndex;var n=me();n.className="tippy-tooltip",n.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),n.setAttribute("data-size",t.size),n.setAttribute("data-animation",t.animation),n.setAttribute("data-state","hidden"),t.theme.split(" ").forEach(function(e){n.classList.add(e+"-theme")});var o=me();return o.className="tippy-content",o.setAttribute("data-state","hidden"),t.interactive&&_e(i,n),t.arrow&&n.appendChild(ye(t.arrowType)),t.animateFill&&(n.appendChild(be()),n.setAttribute("data-animatefill","")),t.inertia&&n.setAttribute("data-inertia",""),de(o,t),n.appendChild(o),i.appendChild(n),i.addEventListener("focusout",function(e){e.relatedTarget&&i._tippy&&!Te(e.relatedTarget,function(e){return e===i})&&e.relatedTarget!==i._tippy.reference&&i._tippy.props.shouldPopperHideOnBlur(e)&&i._tippy.hide()}),i},xe=function(e,t,i){var n,o=pe(e),r=o.tooltip,s=o.content,a=o.backdrop,l=o.arrow;e.style.zIndex=i.zIndex,r.setAttribute("data-size",i.size),r.setAttribute("data-animation",i.animation),r.style.maxWidth=i.maxWidth+("number"==typeof i.maxWidth?"px":""),t.content!==i.content&&de(s,i),!t.animateFill&&i.animateFill?(r.appendChild(be()),r.setAttribute("data-animatefill","")):t.animateFill&&!i.animateFill&&(r.removeChild(a),r.removeAttribute("data-animatefill")),!t.arrow&&i.arrow?r.appendChild(ye(i.arrowType)):t.arrow&&!i.arrow&&r.removeChild(l),t.arrow&&i.arrow&&t.arrowType!==i.arrowType&&r.replaceChild(ye(i.arrowType),l),!t.interactive&&i.interactive?_e(e,r):t.interactive&&!i.interactive&&(n=r,e.removeAttribute("tabindex"),n.removeAttribute("data-interactive")),!t.inertia&&i.inertia?r.setAttribute("data-inertia",""):t.inertia&&!i.inertia&&r.removeAttribute("data-inertia"),t.theme!==i.theme&&(t.theme.split(" ").forEach(function(e){r.classList.remove(e+"-theme")}),i.theme.split(" ").forEach(function(e){r.classList.add(e+"-theme")}))},Ce=function(i){ce(document.querySelectorAll(ae.POPPER)).forEach(function(e){var t=e._tippy;!t||!0!==t.props.hideOnClick||i&&e===i.popper||t.hide()})},ke=function(o){return Object.keys(R).reduce(function(e,t){var i,n=(o.getAttribute("data-tippy-"+t)||"").trim();return n&&("content"===t?e[t]=n:"true"===n?e[t]=!0:"false"===n?e[t]=!1:(i=n,isNaN(i)||isNaN(parseFloat(i))?"["===n[0]||"{"===n[0]?e[t]=JSON.parse(n):e[t]=n:e[t]=Number(n))),e},{})},Ee=function(){if(t){var e=Element.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector}}(),Se=function(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(Ee.call(t,e))return t;t=t.parentElement}}).call(e,t)},Te=function(e,t){for(;e;){if(t(e))return e;e=e.parentElement}},Ie=function(e){var t=window.scrollX||window.pageXOffset,i=window.scrollY||window.pageYOffset;e.focus(),scroll(t,i)},Oe=function(e,t){return(t?e:{X:"Y",Y:"X"}[e])||""},Ae=function(e,t,i,n){var o=t[0],r=t[1];if(!o&&!r)return"";var s={scale:r?i?o+", "+r:r+", "+o:""+o,translate:r?i?n?o+"px, "+-r+"px":o+"px, "+r+"px":n?-r+"px, "+o+"px":r+"px, "+o+"px":n?-o+"px":o+"px"};return s[e]},Le=function(e,t){var i=e.match(new RegExp(t+"([XY])"));return i?i[1]:""},Me=function(e,t){var i=e.match(t);return i?i[1].split(",").map(parseFloat):[]},Pe={translate:/translateX?Y?\(([^)]+)\)/,scale:/scaleX?Y?\(([^)]+)\)/},Ne=function(e,t){var i=ze(Se(e,ae.POPPER)),n="top"===i||"bottom"===i,o="right"===i||"bottom"===i,r={translate:{axis:Le(t,"translate"),numbers:Me(t,Pe.translate)},scale:{axis:Le(t,"scale"),numbers:Me(t,Pe.scale)}},s=t.replace(Pe.translate,"translate"+Oe(r.translate.axis,n)+"("+Ae("translate",r.translate.numbers,n,o)+")").replace(Pe.scale,"scale"+Oe(r.scale.axis,n)+"("+Ae("scale",r.scale.numbers,n,o)+")");e.style[void 0!==document.body.style.transform?"transform":"webkitTransform"]=s},He=function(e,t){e.filter(Boolean).forEach(function(e){e.setAttribute("data-state",t)})},De=function(e,t){var i=e.popper,n=e.options,o=n.onCreate,r=n.onUpdate;n.onCreate=n.onUpdate=function(){i.offsetHeight,t(),r(),n.onCreate=o,n.onUpdate=r}},Fe=function(e){setTimeout(e,1)},je=function(e,t,i,n){if(!e)return!0;var o=i.clientX,r=i.clientY,s=n.interactiveBorder,a=n.distance,l=t.top-r>("top"===e?s+a:s),c=r-t.bottom>("bottom"===e?s+a:s),d=t.left-o>("left"===e?s+a:s),h=o-t.right>("right"===e?s+a:s);return l||c||d||h},Be=function(e,t){return-(e-t)+"px"},ze=function(e){var t=e.getAttribute("x-placement");return t?t.split("-")[0]:""},We=function(e,t){var i=W({},t,t.performance?{}:ke(e));return i.arrow&&(i.animateFill=!1),"function"==typeof i.appendTo&&(i.appendTo=t.appendTo(e)),"function"==typeof i.content&&(i.content=t.content(e)),i},Re=function(e,t,i){e[t+"EventListener"]("transitionend",i)},Ye=function(i,n){var o=void 0;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){return i.apply(e,t)},n)}},Xe=function(e,t){for(var i in e||{})if(!(i in t))throw Error("[tippy]: `"+i+"` is not a valid option")},Ve=function(e,t){return{}.hasOwnProperty.call(e,t)},$e=!1,qe=function(){$e||($e=!0,o&&document.body.classList.add("tippy-iOS"),window.performance&&document.addEventListener("mousemove",Ge))},Ue=0,Ge=function e(){var t=performance.now();t-Ue<20&&($e=!1,document.removeEventListener("mousemove",e),o||document.body.classList.remove("tippy-iOS")),Ue=t},Ke=function(e){var t=e.target;if(!(t instanceof Element))return Ce();var i=Se(t,ae.POPPER);if(!(i&&i._tippy&&i._tippy.props.interactive)){var n=Te(t,function(e){return e._tippy&&e._tippy.reference===e});if(n){var o=n._tippy,r=-1<o.props.trigger.indexOf("click");if($e||r)return Ce(o);if(!0!==o.props.hideOnClick||r)return;o.clearDelayTimeouts()}Ce()}},Qe=function(){var e=document,t=e.activeElement;t&&t.blur&&t._tippy&&t.blur()},Je=function(){ce(document.querySelectorAll(ae.POPPER)).forEach(function(e){var t=e._tippy;t.props.livePlacement||t.popperInstance.scheduleUpdate()})};var Ze=1;function et(e,t){var i=We(e,t);if(!i.multiple&&e._tippy)return null;var r=null,n={},f=null,o=0,s=0,a=!1,l=function(){},c=[],d=!1,h=0<i.interactiveDebounce?Ye(k,i.interactiveDebounce):k,u=Ze++,p=we(u,i);p.addEventListener("mouseenter",function(e){v.props.interactive&&v.state.isVisible&&"mouseenter"===n.type&&b(e)}),p.addEventListener("mouseleave",function(e){v.props.interactive&&"mouseenter"===n.type&&0===v.props.interactiveDebounce&&je(ze(p),p.getBoundingClientRect(),e,v.props)&&_()});var m=pe(p),v={id:u,reference:e,popper:p,popperChildren:m,popperInstance:null,props:i,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:D,set:F,setContent:function(e){F({content:e})},show:j,hide:B,enable:function(){v.state.isEnabled=!0},disable:function(){v.state.isEnabled=!1},destroy:z};return N(),e.addEventListener("click",g),i.lazy||(v.popperInstance=A(),v.popperInstance.disableEventListeners()),i.showOnInit&&b(),!i.a11y||i.target||he(e)||e.setAttribute("tabindex","0"),e._tippy=v,p._tippy=v;function g(){Fe(function(){d=!1})}function y(e){var t=f=e,i=t.clientX,n=t.clientY;if(v.popperInstance){var o=ze(v.popper),r=v.popperChildren.arrow?20:5,s="top"===o||"bottom"===o,a="left"===o||"right"===o,l=s?Math.max(r,i):i,c=a?Math.max(r,n):n;s&&r<l&&(l=Math.min(i,window.innerWidth-r)),a&&r<c&&(c=Math.min(n,window.innerHeight-r));var d=v.reference.getBoundingClientRect(),h=v.props.followCursor,u="horizontal"===h,p="vertical"===h;v.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:u?d.top:c,bottom:u?d.bottom:c,left:p?d.left:l,right:p?d.right:l}},clientWidth:0,clientHeight:0},v.popperInstance.scheduleUpdate()}}function b(e){if(D(),!v.state.isVisible)if(v.props.target)(i=Se((t=e).target,v.props.target))&&!i._tippy&&(et(i,W({},v.props,{target:"",showOnInit:!0})),b(t));else{var t,i;if(a=!0,v.props.wait)return v.props.wait(v,e);L()&&document.addEventListener("mousemove",y);var n=ge(v.props.delay,0,R.delay);n?o=setTimeout(function(){j()},n):j()}}function _(){if(D(),!v.state.isVisible)return w();a=!1;var e=ge(v.props.delay,1,R.delay);e?s=setTimeout(function(){v.state.isVisible&&B()},e):B()}function w(){document.removeEventListener("mousemove",y),f=null}function x(){document.body.removeEventListener("mouseleave",_),document.removeEventListener("mousemove",h)}function C(e){v.state.isEnabled&&!O(e)&&(v.state.isVisible||(n=e),"click"===e.type&&!1!==v.props.hideOnClick&&v.state.isVisible?_():b(e))}function k(e){var t=Te(e.target,function(e){return e._tippy}),i=Se(e.target,ae.POPPER)===v.popper,n=t===v.reference;i||n||je(ze(v.popper),v.popper.getBoundingClientRect(),e,v.props)&&(x(),_())}function E(e){if(!O(e))return v.props.interactive?(document.body.addEventListener("mouseleave",_),void document.addEventListener("mousemove",h)):void _()}function S(e){if(e.target===v.reference){if(v.props.interactive){if(!e.relatedTarget)return;if(Se(e.relatedTarget,ae.POPPER))return}_()}}function T(e){Se(e.target,v.props.target)&&b(e)}function I(e){Se(e.target,v.props.target)&&_()}function O(e){var t=-1<e.type.indexOf("touch"),i=V&&$e&&v.props.touchHold&&!t,n=$e&&!v.props.touchHold&&t;return i||n}function A(){var t=v.popperChildren.tooltip,e=v.props.popperOptions,i=ae["round"===v.props.arrowType?"ROUND_ARROW":"ARROW"],n=t.querySelector(i),o=W({placement:v.props.placement},e||{},{modifiers:W({},e?e.modifiers:{},{arrow:W({element:i},e&&e.modifiers?e.modifiers.arrow:{}),flip:W({enabled:v.props.flip,padding:v.props.distance+5,behavior:v.props.flipBehavior},e&&e.modifiers?e.modifiers.flip:{}),offset:W({offset:v.props.offset},e&&e.modifiers?e.modifiers.offset:{})}),onCreate:function(){t.style[ze(v.popper)]=Be(v.props.distance,R.distance),n&&v.props.arrowTransform&&Ne(n,v.props.arrowTransform)},onUpdate:function(){var e=t.style;e.top="",e.bottom="",e.left="",e.right="",e[ze(v.popper)]=Be(v.props.distance,R.distance),n&&v.props.arrowTransform&&Ne(n,v.props.arrowTransform)}});return r||(r=new MutationObserver(function(){v.popperInstance.update()})).observe(p,{childList:!0,subtree:!0,characterData:!0}),new se(v.reference,v.popper,o)}function L(){return v.props.followCursor&&!$e&&"focus"!==n.type}function M(e,i){if(0===e)return i();var n=v.popperChildren.tooltip,t=function e(t){t.target===n&&(Re(n,"remove",e),i())};Re(n,"remove",l),Re(n,"add",t),l=t}function P(e,t,i){v.reference.addEventListener(e,t),i.push({eventType:e,handler:t})}function N(){c=v.props.trigger.trim().split(" ").reduce(function(e,t){if("manual"===t)return e;if(v.props.target)switch(t){case"mouseenter":P("mouseover",T,e),P("mouseout",I,e);break;case"focus":P("focusin",T,e),P("focusout",I,e);break;case"click":P(t,T,e)}else switch(P(t,C,e),v.props.touchHold&&(P("touchstart",C,e),P("touchend",E,e)),t){case"mouseenter":P("mouseleave",E,e);break;case"focus":P(X?"focusout":"blur",S,e)}return e},[])}function H(){c.forEach(function(e){var t=e.eventType,i=e.handler;v.reference.removeEventListener(t,i)})}function D(){clearTimeout(o),clearTimeout(s)}function F(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Xe(t,R);var e=v.props,i=We(v.reference,W({},v.props,t,{performance:!0}));i.performance=Ve(t,"performance")?t.performance:e.performance,v.props=i,(Ve(t,"trigger")||Ve(t,"touchHold"))&&(H(),N()),Ve(t,"interactiveDebounce")&&(x(),h=Ye(k,t.interactiveDebounce)),xe(v.popper,e,i),v.popperChildren=pe(v.popper),v.popperInstance&&Y.some(function(e){return Ve(t,e)})&&(v.popperInstance.destroy(),v.popperInstance=A(),v.state.isVisible||v.popperInstance.disableEventListeners(),v.props.followCursor&&f&&y(f))}function j(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ge(v.props.duration,0,R.duration[0]);if(!v.state.isDestroyed&&v.state.isEnabled&&(!$e||v.props.touch))return v.reference.isVirtual||document.documentElement.contains(v.reference)?void(v.reference.hasAttribute("disabled")||(d?d=!1:!1!==v.props.onShow(v)&&(v.popper.style.visibility="visible",v.state.isVisible=!0,ue([v.popper,v.popperChildren.tooltip,v.popperChildren.backdrop],0),function(e){v.popperInstance?L()||(v.popperInstance.scheduleUpdate(),v.props.livePlacement&&v.popperInstance.enableEventListeners()):(v.popperInstance=A(),v.props.livePlacement&&!L()||v.popperInstance.disableEventListeners());v.popperInstance.reference=v.reference;var t=v.popperChildren.arrow;if(L()){t&&(t.style.margin="0");var i=ge(v.props.delay,0,R.delay);n.type&&y(i&&f?f:n)}else t&&(t.style.margin="");De(v.popperInstance,e),v.props.appendTo.contains(v.popper)||(v.props.appendTo.appendChild(v.popper),v.props.onMount(v),v.state.isMounted=!0)}(function(){v.state.isVisible&&(L()||v.popperInstance.update(),ue([v.popperChildren.tooltip,v.popperChildren.backdrop,v.popperChildren.content],e),v.popperChildren.backdrop&&(v.popperChildren.content.style.transitionDelay=Math.round(e/6)+"ms"),v.props.interactive&&v.reference.classList.add("tippy-active"),v.props.sticky&&(ue([v.popper],X?0:v.props.updateDuration),function e(){v.popperInstance&&v.popperInstance.scheduleUpdate(),v.state.isMounted?requestAnimationFrame(e):ue([v.popper],0)}()),He([v.popperChildren.tooltip,v.popperChildren.backdrop,v.popperChildren.content],"visible"),M(e,function(){0===v.props.updateDuration&&v.popperChildren.tooltip.classList.add("tippy-notransition"),v.props.interactive&&-1<["focus","click"].indexOf(n.type)&&Ie(v.popper),v.reference.setAttribute("aria-describedby",v.popper.id),v.props.onShown(v),v.state.isShown=!0}))})))):z()}function B(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ge(v.props.duration,1,R.duration[1]);!v.state.isDestroyed&&v.state.isEnabled&&(!1!==v.props.onHide(v)&&(0===v.props.updateDuration&&v.popperChildren.tooltip.classList.remove("tippy-notransition"),v.props.interactive&&v.reference.classList.remove("tippy-active"),v.popper.style.visibility="hidden",v.state.isVisible=!1,v.state.isShown=!1,ue([v.popperChildren.tooltip,v.popperChildren.backdrop,v.popperChildren.content],t),He([v.popperChildren.tooltip,v.popperChildren.backdrop,v.popperChildren.content],"hidden"),v.props.interactive&&!d&&-1<["focus","click"].indexOf(n.type)&&("focus"===n.type&&(d=!0),Ie(v.reference)),e=function(){a||w(),v.reference.removeAttribute("aria-describedby"),v.popperInstance.disableEventListeners(),v.props.appendTo.removeChild(v.popper),v.state.isMounted=!1,v.props.onHidden(v)},M(t,function(){!v.state.isVisible&&v.props.appendTo.contains(v.popper)&&e()})))}function z(e){v.state.isDestroyed||(v.state.isMounted&&B(0),H(),v.reference.removeEventListener("click",g),delete v.reference._tippy,v.props.target&&e&&ce(v.reference.querySelectorAll(v.props.target)).forEach(function(e){return e._tippy&&e._tippy.destroy()}),v.popperInstance&&v.popperInstance.destroy(),r&&r.disconnect(),v.state.isDestroyed=!0)}}var tt=!1;function it(e,t,i){Xe(t,R),tt||(document.addEventListener("click",Ke,!0),document.addEventListener("touchstart",qe,{passive:!0}),window.addEventListener("blur",Qe),window.addEventListener("resize",Je),V||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",qe),tt=!0);var n=W({},R,t);fe(e)&&function(i){var e={isVirtual:!0,attributes:i.attributes||{},setAttribute:function(e,t){i.attributes[e]=t},getAttribute:function(e){return i.attributes[e]},removeAttribute:function(e){delete i.attributes[e]},hasAttribute:function(e){return e in i.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){i.classList.classNames[e]=!0},remove:function(e){delete i.classList.classNames[e]},contains:function(e){return e in i.classList.classNames}}};for(var t in e)i[t]=e[t]}(e);var o=function(e){if(e instanceof Element||fe(e))return[e];if(e instanceof NodeList)return ce(e);if(Array.isArray(e))return e;try{return ce(document.querySelectorAll(e))}catch(e){return[]}}(e),r=o[0],s=(i&&r?[r]:o).reduce(function(e,t){var i=t&&et(t,n);return i&&e.push(i),e},[]);return{targets:e,props:n,instances:s,destroyAll:function(){this.instances.forEach(function(e){e.destroy()}),this.instances=[]}}}it.version="3.3.0",it.defaults=R,it.one=function(e,t){return it(e,t,!0).instances[0]},it.setDefaults=function(e){R=W({},R,e),it.defaults=R},it.disableAnimations=function(){it.setDefaults({duration:0,updateDuration:0,animateFill:!1})},it.hideAllPoppers=Ce,it.useCapture=function(){};t&&setTimeout(function(){ce(document.querySelectorAll("[data-tippy]")).forEach(function(e){var t=e.getAttribute("data-tippy");t&&it(e,{content:t})})});return function(e){if(n){var t=document.createElement("style");t.type="text/css",t.textContent=e,document.head.insertBefore(t,document.head.firstChild)}}('.tippy-iOS{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4;max-width:calc(100% - 10px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(60deg);transform:translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-60deg);transform:translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(.5);transform:translateY(0) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-60deg);transform:translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translateX(0) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(60deg);transform:translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(.5);transform:translateX(0) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;max-width:350px;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}'),it}()}(this);var manageFavoritesShop=function(n){return{addFavorite:function(e,t,i){null!=e&&n.ajax({type:"POST",contentType:"application/json",cookie:cookieController.getCookie("mangoShopCookie"),xhrFields:{withCredentials:!0},data:JSON.stringify(e),url:t+"/add",success:function(){i&&i();var e=n("html");(e.hasClass("ficha")||e.hasClass("fichaOutfit"))&&bannerController.openBanner("adding-fav","favorites_quickview_addingProductToFav")}})},removeFavorite:function(e,t,i){null!=e&&n.ajax({type:"POST",contentType:"application/json",cookie:cookieController.getCookie("mangoShopCookie"),xhrFields:{withCredentials:!0},data:JSON.stringify(e),url:t+"/remove",success:function(){i&&i()}})},checkProductPage:function(){var e=n(".selected-color").data("fav"),t=n("#productPageAddFavorite");!1===e?(t.attr("data-fav",!1),t.data("fav",!1),t.addClass("favFalse"),t.removeClass("favTrue")):!0===e&&(t.attr("data-fav",!0),t.data("fav",!0),t.addClass("favTrue"),t.removeClass("favFalse"))},checkOutfitPage:function(){n(".productPage-fav-container-js").each(function(){var e=n(this),t=e.parents(".optionsSelect__container").find(".selected-color-js").data("fav");!1===t?(e.attr("data-fav",!1),e.data("fav",!1)):!0===t&&(e.attr("data-fav",!0),e.data("fav",!0))})},favMetrics:function(i,e,n,o){"add"===e?gaFavoriteController.getNumFavorites(function(e){var t={event:"addToFavorites",eventCategory:i,eventAction:"anadir a favoritos",eventLabel:n,user:{favoritesNumber:e}};o&&(t.ecommerce={addToFavorites:{actionField:{list:o.list},products:[{id:o.id,name:o.name,price:o.price,brand:o.brand,category:o.category,colorId:o.colorId,variant:o.variant,dimension21:o.colorId,list:o.list,position:o.position}]}}),dataLayer.push(t),ga("send","event",i,"anadir a favoritos",n,{metric9:1,dimension29:e})}):"remove"===e&&gaFavoriteController.getNumFavorites(function(e){dataLayer.push({event:"removeFromFavorites",eventCategory:i,eventAction:"eliminar de favoritos",eventLabel:n,user:{favoritesNumber:e}}),ga("send","event",i,"eliminar de favoritos",n,{metric15:1,dimension29:e})})}}}(jQuery);